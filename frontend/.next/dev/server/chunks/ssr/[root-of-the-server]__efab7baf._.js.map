{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/lib/api.ts"],"sourcesContent":["/**\n * API client for backend communication\n * All data comes from FastAPI backend\n */\n\nimport type { Player, Match } from '@/types';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\n/**\n * Fetch all players from backend\n */\nexport async function fetchPlayers(): Promise<Player[]> {\n  const response = await fetch(`${API_URL}/api/players/`);\n  if (!response.ok) {\n    throw new Error(`Failed to fetch players: ${response.statusText}`);\n  }\n  const data = await response.json();\n  \n  // Convert snake_case to camelCase for frontend\n  return data.map((p: any) => ({\n    id: p.id,\n    name: p.name,\n    firstName: p.first_name,\n    lastName: p.last_name,\n    city: p.city,\n    yearOfBirth: p.year_of_birth,\n    rating: p.rating,\n    initialRating: p.initial_rating,\n    peakRating: p.peak_rating,\n    isCMS: p.is_cms,\n    matches: [], // Will be populated from matches\n    createdAt: new Date(p.created_at),\n    updatedAt: new Date(p.updated_at || p.created_at),\n    matchesCount: p.matches_count\n  }));\n}\n\n/**\n * Fetch specific player by ID\n */\nexport async function fetchPlayer(id: string): Promise<Player> {\n  const response = await fetch(`${API_URL}/api/players/${id}`);\n  if (!response.ok) {\n    throw new Error(`Failed to fetch player: ${response.statusText}`);\n  }\n  return response.json();\n}\n\n/**\n * Fetch all matches (optionally filtered by player)\n */\nexport async function fetchMatches(playerId?: string): Promise<Match[]> {\n  const url = playerId \n    ? `${API_URL}/api/matches/?player_id=${playerId}`\n    : `${API_URL}/api/matches/`;\n  \n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(`Failed to fetch matches: ${response.statusText}`);\n  }\n  const data = await response.json();\n  \n  // Convert snake_case to camelCase for frontend\n  return data.map((m: any) => ({\n    id: m.id,\n    player1Id: m.player1_id,\n    player2Id: m.player2_id,\n    player1Name: m.player1_name,\n    player2Name: m.player2_name,\n    winnerId: m.winner_id,\n    player1Score: m.player1_score,\n    player2Score: m.player2_score,\n    maxScore: m.max_score,\n    player1RatingBefore: m.player1_rating_before,\n    player2RatingBefore: m.player2_rating_before,\n    player1RatingAfter: m.player1_rating_after,\n    player2RatingAfter: m.player2_rating_after,\n    player1RatingChange: m.player1_rating_change,\n    player2RatingChange: m.player2_rating_change,\n    date: new Date(m.date),\n    createdAt: new Date(m.created_at)\n  }));\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;AAID,MAAM,UAAU,6DAAmC;AAK5C,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,aAAa,CAAC;IACtD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,SAAS,UAAU,EAAE;IACnE;IACA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,+CAA+C;IAC/C,OAAO,KAAK,GAAG,CAAC,CAAC,IAAW,CAAC;YAC3B,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,IAAI;YACZ,WAAW,EAAE,UAAU;YACvB,UAAU,EAAE,SAAS;YACrB,MAAM,EAAE,IAAI;YACZ,aAAa,EAAE,aAAa;YAC5B,QAAQ,EAAE,MAAM;YAChB,eAAe,EAAE,cAAc;YAC/B,YAAY,EAAE,WAAW;YACzB,OAAO,EAAE,MAAM;YACf,SAAS,EAAE;YACX,WAAW,IAAI,KAAK,EAAE,UAAU;YAChC,WAAW,IAAI,KAAK,EAAE,UAAU,IAAI,EAAE,UAAU;YAChD,cAAc,EAAE,aAAa;QAC/B,CAAC;AACH;AAKO,eAAe,YAAY,EAAU;IAC1C,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,aAAa,EAAE,IAAI;IAC3D,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,SAAS,UAAU,EAAE;IAClE;IACA,OAAO,SAAS,IAAI;AACtB;AAKO,eAAe,aAAa,QAAiB;IAClD,MAAM,MAAM,WACR,GAAG,QAAQ,wBAAwB,EAAE,UAAU,GAC/C,GAAG,QAAQ,aAAa,CAAC;IAE7B,MAAM,WAAW,MAAM,MAAM;IAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,SAAS,UAAU,EAAE;IACnE;IACA,MAAM,OAAO,MAAM,SAAS,IAAI;IAEhC,+CAA+C;IAC/C,OAAO,KAAK,GAAG,CAAC,CAAC,IAAW,CAAC;YAC3B,IAAI,EAAE,EAAE;YACR,WAAW,EAAE,UAAU;YACvB,WAAW,EAAE,UAAU;YACvB,aAAa,EAAE,YAAY;YAC3B,aAAa,EAAE,YAAY;YAC3B,UAAU,EAAE,SAAS;YACrB,cAAc,EAAE,aAAa;YAC7B,cAAc,EAAE,aAAa;YAC7B,UAAU,EAAE,SAAS;YACrB,qBAAqB,EAAE,qBAAqB;YAC5C,qBAAqB,EAAE,qBAAqB;YAC5C,oBAAoB,EAAE,oBAAoB;YAC1C,oBAAoB,EAAE,oBAAoB;YAC1C,qBAAqB,EAAE,qBAAqB;YAC5C,qBAAqB,EAAE,qBAAqB;YAC5C,MAAM,IAAI,KAAK,EAAE,IAAI;YACrB,WAAW,IAAI,KAAK,EAAE,UAAU;QAClC,CAAC;AACH"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/context/AppContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { Player, Match } from '@/types';\nimport { fetchPlayers, fetchMatches } from '@/lib/api';\n\ninterface AppState {\n  players: Player[];\n  matches: Match[];\n  loading: boolean;\n  error: string | null;\n}\n\ntype AppAction =\n  | { type: 'SET_LOADING'; payload: boolean }\n  | { type: 'SET_ERROR'; payload: string | null }\n  | { type: 'INITIALIZE_DATA'; payload: { players: Player[]; matches: Match[] } }\n  | { type: 'RELOAD_DATA' };\n\nconst initialState: AppState = {\n  players: [],\n  matches: [],\n  loading: true,\n  error: null,\n};\n\nfunction appReducer(state: AppState, action: AppAction): AppState {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, loading: action.payload };\n    \n    case 'SET_ERROR':\n      return { ...state, error: action.payload, loading: false };\n    \n    case 'INITIALIZE_DATA':\n      return {\n        ...state,\n        players: action.payload.players,\n        matches: action.payload.matches,\n        loading: false,\n        error: null,\n      };\n    \n    case 'RELOAD_DATA':\n      return { ...state, loading: true };\n    \n    default:\n      return state;\n  }\n}\n\ninterface AppContextType {\n  state: AppState;\n  reloadData: () => Promise<void>;\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\nexport function AppProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n\n  // Load data from API on mount\n  const loadData = async () => {\n    try {\n      dispatch({ type: 'SET_LOADING', payload: true });\n      const [playersData, matchesData] = await Promise.all([\n        fetchPlayers(),\n        fetchMatches()\n      ]);\n      \n      // Populate players' matches arrays\n      const playersWithMatches = playersData.map(player => ({\n        ...player,\n        matches: matchesData\n          .filter(m => m.player1Id === player.id || m.player2Id === player.id)\n          .map(m => m.id)\n      }));\n      \n      dispatch({ type: 'INITIALIZE_DATA', payload: { players: playersWithMatches, matches: matchesData } });\n    } catch (error: any) {\n      console.error('Error loading data from API:', error);\n      dispatch({ type: 'SET_ERROR', payload: error.message || 'Failed to load data from backend' });\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const reloadData = async () => {\n    await loadData();\n  };\n\n  return (\n    <AppContext.Provider value={{ state, reloadData }}>\n      {children}\n    </AppContext.Provider>\n  );\n}\n\nexport function useApp() {\n  const context = useContext(AppContext);\n  if (context === undefined) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AAJA;;;;AAmBA,MAAM,eAAyB;IAC7B,SAAS,EAAE;IACX,SAAS,EAAE;IACX,SAAS;IACT,OAAO;AACT;AAEA,SAAS,WAAW,KAAe,EAAE,MAAiB;IACpD,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBAAE,GAAG,KAAK;gBAAE,SAAS,OAAO,OAAO;YAAC;QAE7C,KAAK;YACH,OAAO;gBAAE,GAAG,KAAK;gBAAE,OAAO,OAAO,OAAO;gBAAE,SAAS;YAAM;QAE3D,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,SAAS,OAAO,OAAO,CAAC,OAAO;gBAC/B,SAAS,OAAO,OAAO,CAAC,OAAO;gBAC/B,SAAS;gBACT,OAAO;YACT;QAEF,KAAK;YACH,OAAO;gBAAE,GAAG,KAAK;gBAAE,SAAS;YAAK;QAEnC;YACE,OAAO;IACX;AACF;AAOA,MAAM,2BAAa,IAAA,sNAAa,EAA6B;AAEtD,SAAS,YAAY,EAAE,QAAQ,EAAiC;IACrE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mNAAU,EAAC,YAAY;IAEjD,8BAA8B;IAC9B,MAAM,WAAW;QACf,IAAI;YACF,SAAS;gBAAE,MAAM;gBAAe,SAAS;YAAK;YAC9C,MAAM,CAAC,aAAa,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACnD,IAAA,iIAAY;gBACZ,IAAA,iIAAY;aACb;YAED,mCAAmC;YACnC,MAAM,qBAAqB,YAAY,GAAG,CAAC,CAAA,SAAU,CAAC;oBACpD,GAAG,MAAM;oBACT,SAAS,YACN,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK,OAAO,EAAE,IAAI,EAAE,SAAS,KAAK,OAAO,EAAE,EAClE,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE;gBAClB,CAAC;YAED,SAAS;gBAAE,MAAM;gBAAmB,SAAS;oBAAE,SAAS;oBAAoB,SAAS;gBAAY;YAAE;QACrG,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,SAAS;gBAAE,MAAM;gBAAa,SAAS,MAAM,OAAO,IAAI;YAAmC;QAC7F;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,aAAa;QACjB,MAAM;IACR;IAEA,qBACE,8OAAC,WAAW,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAW;kBAC7C;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}