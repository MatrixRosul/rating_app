{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/lib/api.ts"],"sourcesContent":["/**\n * API client for backend communication\n * All data comes from FastAPI backend\n */\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\nexport interface Player {\n  id: string;\n  name: string;\n  rating: number;\n  initial_rating: number;\n  peak_rating: number;\n  is_cms: boolean;\n  created_at: string;\n  updated_at: string;\n  matches_count: number;\n}\n\nexport interface Match {\n  id: string;\n  player1_id: string;\n  player2_id: string;\n  winner_id: string;\n  player1_rating_before: number;\n  player2_rating_before: number;\n  player1_rating_after: number;\n  player2_rating_after: number;\n  rating_change: number;\n  date: string;\n  stage: string;\n}\n\n/**\n * Fetch all players from backend\n */\nexport async function fetchPlayers(): Promise<Player[]> {\n  const response = await fetch(`${API_URL}/api/players`);\n  if (!response.ok) {\n    throw new Error(`Failed to fetch players: ${response.statusText}`);\n  }\n  return response.json();\n}\n\n/**\n * Fetch specific player by ID\n */\nexport async function fetchPlayer(id: string): Promise<Player> {\n  const response = await fetch(`${API_URL}/api/players/${id}`);\n  if (!response.ok) {\n    throw new Error(`Failed to fetch player: ${response.statusText}`);\n  }\n  return response.json();\n}\n\n/**\n * Fetch all matches (optionally filtered by player)\n */\nexport async function fetchMatches(playerId?: string): Promise<Match[]> {\n  const url = playerId \n    ? `${API_URL}/api/matches?player_id=${playerId}`\n    : `${API_URL}/api/matches`;\n  \n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(`Failed to fetch matches: ${response.statusText}`);\n  }\n  return response.json();\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;;CAGC,GAED,MAAM,UAAU,6DAAmC;AA+B5C,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,YAAY,CAAC;IACrD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,SAAS,UAAU,EAAE;IACnE;IACA,OAAO,SAAS,IAAI;AACtB;AAKO,eAAe,YAAY,EAAU;IAC1C,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,aAAa,EAAE,IAAI;IAC3D,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,SAAS,UAAU,EAAE;IAClE;IACA,OAAO,SAAS,IAAI;AACtB;AAKO,eAAe,aAAa,QAAiB;IAClD,MAAM,MAAM,WACR,GAAG,QAAQ,uBAAuB,EAAE,UAAU,GAC9C,GAAG,QAAQ,YAAY,CAAC;IAE5B,MAAM,WAAW,MAAM,MAAM;IAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,SAAS,UAAU,EAAE;IACnE;IACA,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/components/Leaderboard.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\n\ninterface Player {\n  id: string;\n  name: string;\n  rating: number;\n  matches_count: number;\n  is_cms: boolean;\n}\n\ninterface LeaderboardProps {\n  players: Player[];\n  matches: any[];\n}\n\nfunction getRatingBand(rating: number) {\n  if (rating >= 2400) return { name: 'Grandmaster', color: 'text-red-600', bgColor: 'bg-red-50' };\n  if (rating >= 2300) return { name: 'International Master', color: 'text-orange-600', bgColor: 'bg-orange-50' };\n  if (rating >= 2100) return { name: 'Master', color: 'text-orange-500', bgColor: 'bg-orange-50' };\n  if (rating >= 1900) return { name: 'Candidate Master', color: 'text-purple-600', bgColor: 'bg-purple-50' };\n  if (rating >= 1600) return { name: 'Expert', color: 'text-blue-600', bgColor: 'bg-blue-50' };\n  if (rating >= 1400) return { name: 'Specialist', color: 'text-cyan-600', bgColor: 'bg-cyan-50' };\n  if (rating >= 1200) return { name: 'Pupil', color: 'text-green-600', bgColor: 'bg-green-50' };\n  return { name: 'Newbie', color: 'text-gray-600', bgColor: 'bg-gray-50' };\n}\n\nexport default function Leaderboard({ players }: LeaderboardProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  const filteredPlayers = players.filter(player =>\n    player.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg\">\n      <div className=\"p-6 border-b\">\n        <h2 className=\"text-2xl font-bold mb-4\">–¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤</h2>\n        <input\n          type=\"text\"\n          placeholder=\"–ü–æ—à—É–∫ –≥—Ä–∞–≤—Ü—è...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n      \n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">#</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">–ì—Ä–∞–≤–µ—Ü—å</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">–†–µ–π—Ç–∏–Ω–≥</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">–†–∞–Ω–≥</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">–ú–∞—Ç—á—ñ</th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {filteredPlayers.map((player, index) => {\n              const band = getRatingBand(player.rating);\n              return (\n                <tr key={player.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                    {index + 1}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <div>\n                        <Link href={`/player/${player.id}`} className=\"text-sm font-medium text-blue-600 hover:underline\">\n                          {player.name}\n                        </Link>\n                        {player.is_cms && (\n                          <span className=\"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800\">\n                            –ö–ú–°–£\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`text-sm font-semibold ${band.color}`}>\n                      {Math.round(player.rating)}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${band.bgColor} ${band.color}`}>\n                      {band.name}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {player.matches_count}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n      \n      {filteredPlayers.length === 0 && (\n        <div className=\"p-8 text-center text-gray-500\">\n          –ì—Ä–∞–≤—Ü—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAkBA,SAAS,cAAc,MAAc;IACnC,IAAI,UAAU,MAAM,OAAO;QAAE,MAAM;QAAe,OAAO;QAAgB,SAAS;IAAY;IAC9F,IAAI,UAAU,MAAM,OAAO;QAAE,MAAM;QAAwB,OAAO;QAAmB,SAAS;IAAe;IAC7G,IAAI,UAAU,MAAM,OAAO;QAAE,MAAM;QAAU,OAAO;QAAmB,SAAS;IAAe;IAC/F,IAAI,UAAU,MAAM,OAAO;QAAE,MAAM;QAAoB,OAAO;QAAmB,SAAS;IAAe;IACzG,IAAI,UAAU,MAAM,OAAO;QAAE,MAAM;QAAU,OAAO;QAAiB,SAAS;IAAa;IAC3F,IAAI,UAAU,MAAM,OAAO;QAAE,MAAM;QAAc,OAAO;QAAiB,SAAS;IAAa;IAC/F,IAAI,UAAU,MAAM,OAAO;QAAE,MAAM;QAAS,OAAO;QAAkB,SAAS;IAAc;IAC5F,OAAO;QAAE,MAAM;QAAU,OAAO;QAAiB,SAAS;IAAa;AACzE;AAEe,SAAS,YAAY,EAAE,OAAO,EAAoB;IAC/D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAA,SACrC,OAAO,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAG3D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC7C,WAAU;;;;;;;;;;;;0BAId,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAC/F,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAC/F,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAC/F,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAC/F,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;;;;;;;;;;;;sCAGnG,8OAAC;4BAAM,WAAU;sCACd,gBAAgB,GAAG,CAAC,CAAC,QAAQ;gCAC5B,MAAM,OAAO,cAAc,OAAO,MAAM;gCACxC,qBACE,8OAAC;oCAAmB,WAAU;;sDAC5B,8OAAC;4CAAG,WAAU;sDACX,QAAQ;;;;;;sDAEX,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;;sEACC,8OAAC,uKAAI;4DAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE;4DAAE,WAAU;sEAC3C,OAAO,IAAI;;;;;;wDAEb,OAAO,MAAM,kBACZ,8OAAC;4DAAK,WAAU;sEAAsG;;;;;;;;;;;;;;;;;;;;;;sDAO9H,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAK,WAAW,CAAC,sBAAsB,EAAE,KAAK,KAAK,EAAE;0DACnD,KAAK,KAAK,CAAC,OAAO,MAAM;;;;;;;;;;;sDAG7B,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAK,WAAW,CAAC,wEAAwE,EAAE,KAAK,OAAO,CAAC,CAAC,EAAE,KAAK,KAAK,EAAE;0DACrH,KAAK,IAAI;;;;;;;;;;;sDAGd,8OAAC;4CAAG,WAAU;sDACX,OAAO,aAAa;;;;;;;mCA7BhB,OAAO,EAAE;;;;;4BAiCtB;;;;;;;;;;;;;;;;;YAKL,gBAAgB,MAAM,KAAK,mBAC1B,8OAAC;gBAAI,WAAU;0BAAgC;;;;;;;;;;;;AAMvD"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/types/index.ts"],"sourcesContent":["// Types for the billiard rating system\n\nexport interface Player {\n  id: string;\n  name: string;\n  firstName?: string;\n  lastName?: string;\n  city?: string;\n  yearOfBirth?: number;\n  age?: number;\n  rating: number;\n  initialRating?: number; // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –ø—ñ—Å–ª—è –∫–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è (–¥–ª—è –≥—Ä–∞—Ñ—ñ–∫–∞)\n  isCMS?: boolean; // –ö–∞–Ω–¥–∏–¥–∞—Ç —É –º–∞–π—Å—Ç—Ä–∏ —Å–ø–æ—Ä—Ç—É (—Ä–µ–∞–ª—å–Ω–µ –∑–≤–∞–Ω–Ω—è)\n  matches: string[]; // Match IDs\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Match {\n  id: string;\n  player1Id: string;\n  player2Id: string;\n  player1Name?: string; // –Ü–º'—è –≥—Ä–∞–≤—Ü—è 1 (–¥–ª—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏—Ö –ø—Ä–æ—Ñ—ñ–ª—ñ–≤)\n  player2Name?: string; // –Ü–º'—è –≥—Ä–∞–≤—Ü—è 2 (–¥–ª—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏—Ö –ø—Ä–æ—Ñ—ñ–ª—ñ–≤)\n  winnerId: string;\n  player1Score: number;\n  player2Score: number;\n  maxScore: number; // –î–æ —Å–∫—ñ–ª—å–∫–∏ –æ—á–æ–∫ –≥—Ä–∞–ª–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ 5, –¥–æ 7, –¥–æ 10)\n  player1RatingBefore: number;\n  player2RatingBefore: number;\n  player1RatingAfter: number;\n  player2RatingAfter: number;\n  player1RatingChange: number;\n  player2RatingChange: number;\n  date: Date;\n  sequenceIndex?: number; // –ü–æ—Ä—è–¥–æ–∫ –æ–±—Ä–æ–±–∫–∏ –º–∞—Ç—á—É –ø—Ä–∏ —ñ–º–ø–æ—Ä—Ç—ñ (–¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ–π –¥–∞—Ç—ñ)\n  tournament?: string; // –ù–∞–∑–≤–∞ —Ç—É—Ä–Ω—ñ—Ä—É –∞–±–æ –∑–º–∞–≥–∞–Ω–Ω—è\n  stage?: string; // –°—Ç–∞–¥—ñ—è –º–∞—Ç—á—É: group, round16, quarterfinal, semifinal, final\n  matchWeight?: number; // –í–∞–≥–∞ –º–∞—Ç—á—É (1.0-2.0) –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —Ä–µ–π—Ç–∏–Ω–≥—É\n}\n\nexport interface RatingBand {\n  name: string;\n  color: string;\n  textColor: string;\n  minRating: number;\n  maxRating: number;\n}\n\nexport const RATING_BANDS: RatingBand[] = [\n  { name: 'Newbie', color: 'bg-gray-500', textColor: 'text-gray-500', minRating: 0, maxRating: 1199 },\n  { name: 'Pupil', color: 'bg-green-500', textColor: 'text-green-500', minRating: 1200, maxRating: 1399 },\n  { name: 'Specialist', color: 'bg-cyan-500', textColor: 'text-cyan-500', minRating: 1400, maxRating: 1599 },\n  { name: 'Expert', color: 'bg-blue-500', textColor: 'text-blue-500', minRating: 1600, maxRating: 1799 },\n  { name: 'Candidate Master', color: 'bg-purple-500', textColor: 'text-purple-500', minRating: 1800, maxRating: 2299 },\n  { name: 'Master', color: 'bg-orange-500', textColor: 'text-orange-500', minRating: 2300, maxRating: 2499 },\n  { name: 'Grandmaster', color: 'bg-red-500', textColor: 'text-red-500', minRating: 2500, maxRating: Infinity },\n];\n\nexport interface PlayerStats {\n  totalMatches: number;\n  wins: number;\n  losses: number;\n  winRate: number;\n  highestRating: number;\n  lowestRating: number;\n  ratingChange: number;\n}\n"],"names":[],"mappings":"AAAA,uCAAuC;;;;;AAiDhC,MAAM,eAA6B;IACxC;QAAE,MAAM;QAAU,OAAO;QAAe,WAAW;QAAiB,WAAW;QAAG,WAAW;IAAK;IAClG;QAAE,MAAM;QAAS,OAAO;QAAgB,WAAW;QAAkB,WAAW;QAAM,WAAW;IAAK;IACtG;QAAE,MAAM;QAAc,OAAO;QAAe,WAAW;QAAiB,WAAW;QAAM,WAAW;IAAK;IACzG;QAAE,MAAM;QAAU,OAAO;QAAe,WAAW;QAAiB,WAAW;QAAM,WAAW;IAAK;IACrG;QAAE,MAAM;QAAoB,OAAO;QAAiB,WAAW;QAAmB,WAAW;QAAM,WAAW;IAAK;IACnH;QAAE,MAAM;QAAU,OAAO;QAAiB,WAAW;QAAmB,WAAW;QAAM,WAAW;IAAK;IACzG;QAAE,MAAM;QAAe,OAAO;QAAc,WAAW;QAAgB,WAAW;QAAM,WAAW;IAAS;CAC7G"}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/utils/rating.ts"],"sourcesContent":["import { Player, Match, RatingBand, RATING_BANDS, PlayerStats } from '@/types';\n\n// ‚öôÔ∏è –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø –†–ï–ô–¢–ò–ù–ì–û–í–û–á –°–ò–°–¢–ï–ú–ò v3.1.1 (–ø—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–∏–π –±–∞–ª–∞–Ω—Å)\nexport const RATING_CONFIG = {\n  // –ó–æ–Ω–∞ –±–æ—Ä–æ—Ç—å–±–∏ –∑–∞ –µ–ª—ñ—Ç—É\n  ELITE_ENTRY_MIN: 1650,\n  ELITE_ENTRY_MAX: 1850,\n  ELITE_K_FACTOR: 55,\n  ELITE_MAX_CHANGE: 55,\n  \n  // –ü–æ—Ä—ñ–≥ –¥–ª—è –µ–ª—ñ—Ç–Ω–æ—ó –ª–æ–≥—ñ–∫–∏\n  ELITE_THRESHOLD: 1700,\n  \n  // Underdog bonus threshold\n  UNDERDOG_DIFF: 250,\n  UNDERDOG_BONUS: 1.15,\n  \n  // Loss protection –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤\n  LOSS_PROTECTION_MIN: 1300,\n  LOSS_PROTECTION_MAX: 1600,\n  LOSS_PROTECTION_MIN_VALUE: 0.6,\n  LOSS_PROTECTION_MAX_VALUE: 1.0,\n  \n  // üî• –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ - –∑–Ω–∏–∂–µ–Ω–æ –¥–æ 950 (–Ω–æ–≤–∞—á–∫–∏ –º–æ–∂—É—Ç—å –ø–∞–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ)\n  RATING_FLOOR: 950,\n};\n\n// üî• –ê–°–ò–ú–ï–¢–†–ò–ß–ù–Ü –ú–ù–û–ñ–ù–ò–ö–ò –î–õ–Ø –°–¢–ê–î–Ü–ô: –ø–µ—Ä–µ–º–æ–∂–µ—Ü—å ‚â† –ø—Ä–æ–≥—Ä–∞–≤—à–∏–π (v3.1 ‚Äî –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ)\nexport function getMatchWeights(stage?: string): { winner: number; loser: number } {\n  const weights: Record<string, { winner: number; loser: number }> = {\n    'group': { winner: 1.0, loser: 1.0 },\n    'round16': { winner: 1.1, loser: 1.0 },\n    'quarterfinal': { winner: 1.3, loser: 1.15 },  // v3.1: –ë—É–ª–æ 1.4/1.2\n    'semifinal': { winner: 1.5, loser: 1.2 },      // v3.1: –ë—É–ª–æ 1.7/1.2\n    'final': { winner: 1.7, loser: 1.25 }          // v3.1: –ë—É–ª–æ 2.0/1.3\n  };\n  \n  if (!stage) return { winner: 1.0, loser: 1.0 };\n  \n  const normalized = stage.toLowerCase().trim();\n  return weights[normalized] ?? { winner: 1.0, loser: 1.0 };\n}\n\n// Backward compatibility: –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–º–æ–∂—Ü—è (–¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è)\nexport function getMatchWeight(stage?: string): number {\n  const { winner } = getMatchWeights(stage);\n  return winner;\n}\n\n// –ü–æ—Ä—è–¥–æ–∫ —Å—Ç–∞–¥—ñ–π –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (–≤–∞–∂–ª–∏–≤–æ –¥–ª—è –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –¥–∞—Ç)\nexport function getStageOrder(stage?: string): number {\n  const order: Record<string, number> = {\n    'group': 1,\n    'round16': 2,\n    'quarterfinal': 3,\n    'semifinal': 4,\n    'final': 5\n  };\n  \n  if (!stage) return 0;\n  \n  const normalized = stage.toLowerCase().trim();\n  return order[normalized] ?? 0;\n}\n\n// Stable ELO-based rating calculation with pyramid principles (v3.1.1 - –ø—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–∏–π –±–∞–ª–∞–Ω—Å)\nexport function calculateRatingChange(\n  player1Rating: number,\n  player2Rating: number,\n  player1Score: number,\n  player2Score: number,\n  maxScore: number,\n  player1Games: number = 30, // –ö—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–≥–æ—Ä –≥—Ä–∞–≤—Ü—è 1\n  player2Games: number = 30, // –ö—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–≥–æ—Ä –≥—Ä–∞–≤—Ü—è 2\n  matchWeight: number = 1.0,  // Deprecated: –¥–ª—è backward compatibility\n  stage?: string  // üÜï –°—Ç–∞–¥—ñ—è —Ç—É—Ä–Ω—ñ—Ä—É –¥–ª—è –∞—Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏—Ö –º–Ω–æ–∂–Ω–∏–∫—ñ–≤\n): { player1Change: number; player2Change: number } {\n  \n  // 1. EXPECTED SCORE (E) ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π Elo\n  const E1 = 1 / (1 + Math.pow(10, (player2Rating - player1Rating) / 400));\n  const E2 = 1 - E1;\n  \n  // 2. ACTUAL SCORE (S) ‚Äî –ï–õ–Ü–¢–ù–ê –õ–û–ì–Ü–ö–ê –¥–ª—è —Ç–æ–ø—ñ–≤\n  const scoreDiff = player1Score - player2Score;\n  const avgRating = (player1Rating + player2Rating) / 2;\n  const isElite = avgRating >= RATING_CONFIG.ELITE_THRESHOLD;\n  \n  let S1: number, S2: number;\n  \n  if (isElite) {\n    // üî• –î–õ–Ø –ï–õ–Ü–¢–ò: –ø–µ—Ä–µ–º–æ–≥–∞ = 1, –ø–æ—Ä–∞–∑–∫–∞ = 0, —Ä–∞—Ö—É–Ω–æ–∫ –≤–ø–ª–∏–≤–∞—î –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ\n    if (player1Score > player2Score) {\n      // –ü–µ—Ä–µ–º–æ–∂–µ—Ü—å –æ—Ç—Ä–∏–º—É—î –º–∞–π–∂–µ 1.0, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–∞—Ö—É–Ω–∫—É\n      S1 = 0.95 + Math.min(0.05, (scoreDiff / maxScore) * 0.05);\n    } else {\n      // –ü—Ä–æ–≥—Ä–∞–≤—à–∏–π –æ—Ç—Ä–∏–º—É—î –º–∞–π–∂–µ 0.0\n      S1 = 0.05 - Math.min(0.05, (Math.abs(scoreDiff) / maxScore) * 0.05);\n    }\n  } else {\n    // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –ª–æ–≥—ñ–∫–∞ –¥–ª—è —Å–µ—Ä–µ–¥–Ω—ñ—Ö —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤\n    S1 = 0.5 + (scoreDiff / maxScore) * 0.5;\n  }\n  \n  S2 = 1 - S1;\n  \n  // 3. MARGIN MULTIPLIER (M) ‚Äî –º'—è–∫–∏–π –≤–ø–ª–∏–≤ —Ä—ñ–∑–Ω–∏—Ü—ñ –≤ —Ä–∞—Ö—É–Ω–∫—É\n  const M = calculateMarginMultiplier(Math.abs(scoreDiff), Math.max(player1Rating, player2Rating));\n  \n  // 4. K-FACTOR ‚Äî –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —ñ–≥–æ—Ä —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥—É\n  const K1 = calculateKFactor(player1Games, player1Rating);\n  const K2 = calculateKFactor(player2Games, player2Rating);\n  \n  // 5. –ë–ê–ó–û–í–ê –ó–ú–Ü–ù–ê ‚Äî –ª—ñ–Ω—ñ–π–Ω–∞ —Ñ–æ—Ä–º—É–ª–∞ Elo\n  let delta1 = K1 * (S1 - E1) * M;\n  let delta2 = K2 * (S2 - E2) * M;\n  \n  // 6. –ü–õ–ê–í–ù–ò–ô –ó–ê–•–ò–°–¢ –í–Ü–î –ü–ê–î–Ü–ù–ù–Ø ‚Äî –Ω–æ–≤–∞—á–∫–∏ —Ä–æ—Å—Ç—É—Ç—å —à–≤–∏–¥—à–µ, –Ω—ñ–∂ –ø–∞–¥–∞—é—Ç—å (v3.1 ‚Äî –ø—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–∏–π)\n  const calculateLossProtection = (rating: number): number => {\n    const { LOSS_PROTECTION_MIN, LOSS_PROTECTION_MAX, LOSS_PROTECTION_MIN_VALUE, LOSS_PROTECTION_MAX_VALUE } = RATING_CONFIG;\n    \n    // ‚úÖ v3.1.1: –ü–†–û–ì–†–ï–°–ò–í–ù–ò–ô –∑–∞—Ö–∏—Å—Ç ‚Äî —á–∏–º –Ω–∏–∂—á–µ, —Ç–∏–º –º–µ–Ω—à–µ –∑–∞—Ö–∏—Å—Ç—É\n    if (rating < 1200) {\n      // –ü—Ä–∏ 950: ‚âà0.65, –ø—Ä–∏ 1200: ‚âà0.95\n      const factor = 0.65 + (rating - 950) / 250 * 0.30;\n      return Math.max(0.65, Math.min(0.95, factor));\n    }\n    if (rating < 1300) return 0.70;\n    if (rating >= LOSS_PROTECTION_MAX) return 1.0; // –ë–µ–∑ –∑–∞—Ö–∏—Å—Ç—É\n    if (rating <= LOSS_PROTECTION_MIN) return LOSS_PROTECTION_MIN_VALUE;\n    \n    // –ü–ª–∞–≤–Ω–∞ —ñ–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü—ñ—è –º—ñ–∂ –º—ñ–Ω —ñ –º–∞–∫—Å\n    const ratio = (rating - LOSS_PROTECTION_MIN) / (LOSS_PROTECTION_MAX - LOSS_PROTECTION_MIN);\n    return LOSS_PROTECTION_MIN_VALUE + ratio * (LOSS_PROTECTION_MAX_VALUE - LOSS_PROTECTION_MIN_VALUE);\n  };\n  \n  if (delta1 < 0) delta1 *= calculateLossProtection(player1Rating);\n  if (delta2 < 0) delta2 *= calculateLossProtection(player2Rating);\n  \n  // 7. üî• –ê–°–ò–ú–ï–¢–†–ò–ß–ù–ò–ô TRANSFER POINTS ‚Äî —Å–ª–∞–±—à–∏–π –ø—Ä–æ–≥—Ä–∞—î —Å–∏–ª—å–Ω–æ–º—É = –±—ñ–ª—å—à–µ –≤—ñ–¥–¥–∞—î (v3.1 ‚Äî –î–û maxChange)\n  if (player1Rating < player2Rating && player1Score < player2Score) {\n    delta1 *= 1.15; // v3.1: –ë—É–ª–æ 1.2 ‚Üí —Ç–µ–ø–µ—Ä 1.15\n  }\n  if (player2Rating < player1Rating && player2Score < player1Score) {\n    delta2 *= 1.15; // v3.1: –ë—É–ª–æ 1.2 ‚Üí —Ç–µ–ø–µ—Ä 1.15\n  }\n  \n  // 8. –û–ë–ú–ï–ñ–ï–ù–ù–Ø –ú–ê–ö–°–ò–ú–£–ú–£ ‚Äî –∑–æ–Ω–∞ –±–æ—Ä–æ—Ç—å–±–∏ –∑–∞ –µ–ª—ñ—Ç—É –º–∞—î –Ω–∞–π–≤–∏—â—É –¥–∏–Ω–∞–º—ñ–∫—É (v3.1 ‚Äî –∑–Ω–∏–∂–µ–Ω–æ)\n  let maxChange: number;\n  \n  const { ELITE_ENTRY_MIN, ELITE_ENTRY_MAX, ELITE_MAX_CHANGE } = RATING_CONFIG;\n  \n  if (avgRating >= ELITE_ENTRY_MIN && avgRating <= ELITE_ENTRY_MAX) {\n    // üéØ –ó–û–ù–ê –ë–û–†–û–¢–¨–ë–ò –ó–ê –ï–õ–Ü–¢–£: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –¥–∏–Ω–∞–º—ñ–∫–∞\n    maxChange = ELITE_MAX_CHANGE;\n  } else if (avgRating >= 1850) {\n    // –¢–û–ü-–ú–ê–¢–ß–Ü: —Å—Ç–∞–±—ñ–ª—ñ–∑–∞—Ü—ñ—è –Ω–∞ –≤–µ—Ä—Ö—É\n    maxChange = 55; // v3.1: –ë—É–ª–æ 60\n  } else if (avgRating >= 1700) {\n    // –ï–õ–Ü–¢–ù–ò–ô –®–ê–†: –≤–µ–ª–∏–∫—ñ —Å—Ç—Ä–∏–±–∫–∏ –¥–ª—è –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è\n    maxChange = 60; // v3.1: –ë—É–ª–æ 70\n  } else if (avgRating >= 1500) {\n    // –°–µ—Ä–µ–¥–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å\n    maxChange = 50; // v3.1: –ë—É–ª–æ 55\n  } else {\n    // –ù–æ–≤–∞—á–∫–∏\n    maxChange = 40; // v3.1: –ë—É–ª–æ 45\n  }\n  \n  delta1 = Math.max(-maxChange, Math.min(maxChange, delta1));\n  delta2 = Math.max(-maxChange, Math.min(maxChange, delta2));\n  \n  // 9. UNDERDOG BONUS ‚Äî –∞–ø—Å–µ—Ç —Ä–µ–∞–ª—å–Ω–æ —Ä—É—Ö–∞—î —Ä–µ–π—Ç–∏–Ω–≥\n  const ratingDiff = Math.abs(player1Rating - player2Rating);\n  const { UNDERDOG_DIFF, UNDERDOG_BONUS } = RATING_CONFIG;\n  \n  if (ratingDiff > UNDERDOG_DIFF) {\n    // –°–ª–∞–±—à–∏–π –ø–µ—Ä–µ–º—ñ–≥ —Å–∏–ª—å–Ω–æ–≥–æ\n    if (player1Score > player2Score && player1Rating < player2Rating) {\n      delta1 *= UNDERDOG_BONUS;\n    } else if (player2Score > player1Score && player2Rating < player1Rating) {\n      delta2 *= UNDERDOG_BONUS;\n    }\n  }\n  \n  // üî• ELITE INFLATION ‚Äî –µ–ª—ñ—Ç–∞ –∂–∏–≤–∏—Ç—å—Å—è –∑ —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ —à–∞—Ä—É (v3.1 ‚Äî —Ç—ñ–ª—å–∫–∏ —Å–ø—Ä–∞–≤–∂–Ω—è –µ–ª—ñ—Ç–∞)\n  // v3.1: 1700+ vs <1400 (–±—É–ª–æ 1650+ vs <1600)\n  if (player1Rating >= 1700 && player2Rating < 1400 && player1Score > player2Score) {\n    delta1 *= 1.10; // v3.1: –ë—É–ª–æ √ó1.15\n  } else if (player2Rating >= 1700 && player1Rating < 1400 && player2Score > player1Score) {\n    delta2 *= 1.10; // v3.1: –ë—É–ª–æ √ó1.15\n  }\n  \n  // üî• ELITE SINK ‚Äî —Ç–æ–ø –ø–µ—Ä–µ–º–∞–≥–∞—î –ª–æ—É = —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—ñ–Ω—Ç—ñ–≤ (v3.1 ‚Äî —Ç—ñ–ª—å–∫–∏ –¢–û–ü vs –î–ù–û)\n  // v3.1: 1750+ vs <1100, +5 (–±—É–ª–æ 1600+ vs <1300, +10)\n  if (player1Rating >= 1750 && player2Rating < 1100 && player1Score > player2Score) {\n    delta1 += 5; // v3.1: –ë—É–ª–æ +10\n  } else if (player2Rating >= 1750 && player1Rating < 1100 && player2Score > player1Score) {\n    delta2 += 5; // v3.1: –ë—É–ª–æ +10\n  }\n  \n  // 10. üî• –ê–°–ò–ú–ï–¢–†–ò–ß–ù–Ü –ú–ù–û–ñ–ù–ò–ö–ò ‚Äî —Ñ—ñ–Ω–∞–ª—ñ—Å—Ç–∏ –Ω–µ –∫–∞—Ä–∞—é—Ç—å—Å—è —Ç–∞–∫ –∂–æ—Ä—Å—Ç–∫–æ (v3.1 ‚Äî –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ)\n  const matchWeights = stage ? getMatchWeights(stage) : { winner: matchWeight, loser: matchWeight };\n  \n  if (player1Score > player2Score) {\n    // Player 1 wins\n    delta1 *= matchWeights.winner;\n    delta2 *= matchWeights.loser;\n  } else {\n    // Player 2 wins\n    delta1 *= matchWeights.loser;\n    delta2 *= matchWeights.winner;\n  }\n  \n  // üèÜ –¢–£–†–ù–Ü–†–ù–ê –Ü–ù–§–õ–Ø–¶–Ü–Ø ‚Äî –ø–µ—Ä–µ–º–æ–∂–µ—Ü—å –ó–ê–í–ñ–î–ò –æ—Ç—Ä–∏–º—É—î –±–æ–Ω—É—Å –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞–¥—ñ—ó (v3.1 ‚Äî –∑–Ω–∏–∂–µ–Ω–æ)\n  const stageInflation: Record<string, number> = {\n    'group': 0,       // v3.1: –ë—É–ª–æ +1 ‚Üí —Ç–µ–ø–µ—Ä 0\n    'round16': 1,     // v3.1: –ë—É–ª–æ +2 ‚Üí —Ç–µ–ø–µ—Ä +1\n    'quarterfinal': 2, // v3.1: –ë—É–ª–æ +4 ‚Üí —Ç–µ–ø–µ—Ä +2\n    'semifinal': 4,   // v3.1: –ë—É–ª–æ +7 ‚Üí —Ç–µ–ø–µ—Ä +4\n    'final': 6        // v3.1: –ë—É–ª–æ +10 ‚Üí —Ç–µ–ø–µ—Ä +6\n  };\n  \n  const inflationBonus = stage ? (stageInflation[stage.toLowerCase()] ?? 0) : 0;\n  \n  // –î–æ–¥–∞—î–º–æ —ñ–Ω—Ñ–ª—è—Ü—ñ—é –ø–µ—Ä–µ–º–æ–∂—Ü—é (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥—É >1000)\n  if (player1Score > player2Score) {\n    if (player1Rating > 1000) {\n      delta1 += inflationBonus; // v3.1.1: –ù–æ–≤–∞—á–∫–∏ –Ω–µ –æ—Ç—Ä–∏–º—É—é—Ç—å —ñ–Ω—Ñ–ª—è—Ü—ñ—é\n    }\n  } else {\n    if (player2Rating > 1000) {\n      delta2 += inflationBonus; // v3.1.1: –ù–æ–≤–∞—á–∫–∏ –Ω–µ –æ—Ç—Ä–∏–º—É—é—Ç—å —ñ–Ω—Ñ–ª—è—Ü—ñ—é\n    }\n  }\n  \n  // üåü ELITE BONUS ‚Äî –≥—Ä–∞–≤–µ—Ü—å 1500+ –ø–µ—Ä–µ–º–∞–≥–∞—î –±—É–¥—å-–∫–æ–≥–æ ‚Üí –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∏–π –±–æ–Ω—É—Å (v3.1.1)\n  // v3.1.1: –ó–Ω–∏–∂–µ–Ω–æ –ø–æ—Ä—ñ–≥ 1700 ‚Üí 1500 (–±—ñ–ª—å—à–µ –≥—Ä–∞–≤—Ü—ñ–≤ –æ—Ç—Ä–∏–º—É—é—Ç—å –±–æ–Ω—É—Å)\n  if (player1Rating >= 1500 && player1Score > player2Score) {\n    const eliteBonus = Math.max(2, Math.min(8, Math.abs(delta1) * 0.15));\n    delta1 += eliteBonus;\n  }\n  if (player2Rating >= 1500 && player2Score > player1Score) {\n    const eliteBonus = Math.max(2, Math.min(8, Math.abs(delta2) * 0.15));\n    delta2 += eliteBonus;\n  }\n  \n  // 11. ROUNDED CHANGES\n  const player1Change = Math.round(delta1);\n  const player2Change = Math.round(delta2);\n  \n  return { player1Change, player2Change };\n}\n\n// K-Factor based on number of games played and rating (pyramid principle)\nfunction calculateKFactor(gamesPlayed: number, rating: number = 1300): number {\n  // –ë–∞–∑–æ–≤—ñ K-—Ñ–∞–∫—Ç–æ—Ä–∏ –¥–ª—è –¥–æ—Å–≤—ñ–¥—É\n  let baseK: number;\n  if (gamesPlayed < 20) baseK = 55;\n  else if (gamesPlayed < 60) baseK = 38;\n  else baseK = 26;\n  \n  const { ELITE_ENTRY_MIN, ELITE_ENTRY_MAX, ELITE_K_FACTOR, ELITE_THRESHOLD } = RATING_CONFIG;\n  \n  // üî• –ó–û–ù–ê –ë–û–†–û–¢–¨–ë–ò –ó–ê –ï–õ–Ü–¢–£ ‚Äî –Ω–∞–π–≤–∏—â–∏–π K (v3.1 ‚Äî –∑–Ω–∏–∂–µ–Ω–æ –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ)\n  if (rating >= ELITE_ENTRY_MIN && rating <= ELITE_ENTRY_MAX) {\n    baseK = Math.max(baseK, 50); // v3.1: –ë—É–ª–æ 55 (ELITE_K_FACTOR)\n  } else if (rating >= 1850) {\n    // –í–µ—Ä—Ö—ñ–≤–∫–∞: —Å—Ç–∞–±—ñ–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ—Å–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è\n    baseK = Math.max(baseK, 38); // v3.1: –ë—É–ª–æ 42\n  } else if (rating >= ELITE_THRESHOLD) {\n    // –ü–Ü–ö–û–í–ò–ô K –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç—É –≤ —Ç–æ–ø-–∑–æ–Ω—É\n    baseK = Math.max(baseK, 52); // v3.1: –ë—É–ª–æ 60\n  } else if (rating >= 1600) {\n    // –í—Ö—ñ–¥ –≤ –µ–ª—ñ—Ç—É ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –¥–∏–Ω–∞–º—ñ–∫–∞\n    baseK = Math.max(baseK, 55); // v3.1: –ë—É–ª–æ 58\n  }\n  \n  return baseK;\n}\n\n// Margin Multiplier ‚Äî –æ–±–º–µ–∂–µ–Ω–∏–π –≤–ø–ª–∏–≤ —Ä—ñ–∑–Ω–∏—Ü—ñ –≤ —Ä–∞—Ö—É–Ω–∫—É\nfunction calculateMarginMultiplier(scoreDiff: number, rating: number = 1300): number {\n  // –õ–æ–≥–∞—Ä–∏—Ñ–º—ñ—á–Ω–∞ —à–∫–∞–ª–∞ –¥–ª—è –º'—è–∫–æ–≥–æ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è\n  let base = 1 + Math.min(1.0, Math.log2(1 + scoreDiff) * 0.55);\n  \n  // –ú'—è–∫–µ –ø–æ—Å–∏–ª–µ–Ω–Ω—è –¥–ª—è —Ç–æ–ø–æ–≤–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ (–≤–µ–ª–∏–∫—ñ –ø–µ—Ä–µ–º–æ–≥–∏ –±—ñ–ª—å—à–µ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∂—É—é—Ç—å—Å—è)\n  if (rating >= 1600 && scoreDiff >= 3) {\n    base *= 1.08; // +8% –¥–ª—è —Ç–æ–ø—ñ–≤ –ø—Ä–∏ –¥–æ–º—ñ–Ω–∞—Ü—ñ—ó\n  }\n  \n  return base;\n}\n\n// Get rating band for a given rating\nexport function getRatingBand(rating: number): RatingBand {\n  return RATING_BANDS.find(band => rating >= band.minRating && rating <= band.maxRating) || RATING_BANDS[0];\n}\n\n// Generate a random player name for simulation\nexport function generateRandomPlayerName(): string {\n  const firstNames = [\n    '–û–ª–µ–∫—Å–∞–Ω–¥—Ä', '–ê–Ω–¥—Ä—ñ–π', '–í–∞—Å–∏–ª—å', '–í–æ–ª–æ–¥–∏–º–∏—Ä', '–î–º–∏—Ç—Ä–æ', '–Ñ–≤–≥–µ–Ω', '–Ü–≥–æ—Ä', '–Ü–≤–∞–Ω', '–ú–∞–∫—Å–∏–º', '–ú–∏–∫–æ–ª–∞',\n    '–û–ª–µ–≥', '–ü–µ—Ç—Ä–æ', '–†–æ–º–∞–Ω', '–°–µ—Ä–≥—ñ–π', '–¢–∞—Ä–∞—Å', '–Æ—Ä—ñ–π', '–ë–æ–≥–¥–∞–Ω', '–í—ñ–∫—Ç–æ—Ä', '–î–µ–Ω–∏—Å', '–ö–æ—Å—Ç—è–Ω—Ç–∏–Ω',\n    '–ê–Ω–Ω–∞', '–í—ñ–∫—Ç–æ—Ä—ñ—è', '–î—ñ–∞–Ω–∞', '–Ñ–ª–∏–∑–∞–≤–µ—Ç–∞', '–ö–∞—Ç–µ—Ä–∏–Ω–∞', '–ú–∞—Ä—ñ—è', '–ù–∞—Ç–∞–ª—ñ—è', '–û–∫—Å–∞–Ω–∞', '–°–≤—ñ—Ç–ª–∞–Ω–∞', '–¢–µ—Ç—è–Ω–∞',\n    '–Æ–ª—ñ—è', '–Ø—Ä–æ—Å–ª–∞–≤–∞', '–í–∞–ª–µ–Ω—Ç–∏–Ω–∞', '–ì–∞–ª–∏–Ω–∞', '–Ü—Ä–∏–Ω–∞', '–õ—é–¥–º–∏–ª–∞', '–û–ª—å–≥–∞', '–¢–∞–º–∞—Ä–∞', '–ê–ª–ª–∞', '–õ–∞—Ä–∏—Å–∞'\n  ];\n  \n  const lastNames = [\n    '–ü–µ—Ç—Ä–µ–Ω–∫–æ', '–Ü–≤–∞–Ω–µ–Ω–∫–æ', '–ö–æ–≤–∞–ª–µ–Ω–∫–æ', '–ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ', '–ú–µ–ª—å–Ω–∏–∫', '–®–µ–≤—á–µ–Ω–∫–æ', '–¢–∫–∞—á–µ–Ω–∫–æ', '–ö—Ä–∞–≤—á–µ–Ω–∫–æ',\n    '–ü–æ–ª—Ç–∞–≤–µ—Ü—å', '–°–∞–≤—á–µ–Ω–∫–æ', '–†–æ–º–∞–Ω–µ–Ω–∫–æ', '–õ–µ–≤—á–µ–Ω–∫–æ', '–ì—Ä–∏—Ü–µ–Ω–∫–æ', '–ü–∞–≤–ª–µ–Ω–∫–æ', '–ú–∞—Ä—á–µ–Ω–∫–æ', '–î–µ–º—á–µ–Ω–∫–æ',\n    '–õ–∏—Å–µ–Ω–∫–æ', '–†—É–¥–µ–Ω–∫–æ', '–ú–æ—Ä–æ–∑', '–ö—Ä–∞–≤–µ—Ü—å', '–ö—É–∑–Ω–µ—Ü–æ–≤', '–ü–æ–ø–æ–≤', '–°–æ–∫–æ–ª–æ–≤', '–õ–µ–±–µ–¥—î–≤', '–ö–æ–∑–ª–æ–≤'\n  ];\n\n  const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\n  const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\n  \n  return `${firstName} ${lastName}`;\n}\n\n// Generate initial players with base rating\nexport function generateInitialPlayers(count: number = 100, baseRating: number = 1000): Player[] {\n  const players: Player[] = [];\n  const usedNames = new Set<string>();\n\n  // Special players with different rating ranges for demonstration\n  const specialPlayers = [\n    { name: 'NoobMaster69', rating: 800 },     // Newbie - Gray\n    { name: 'BeginnerLuck', rating: 1300 },    // Newbie - Gray\n    { name: 'GreenPlayer', rating: 1250 },     // Pupil - Green\n    { name: 'StudyHard', rating: 1350 },       // Pupil - Green\n    { name: 'CyanSpecial', rating: 1450 },     // Specialist - Cyan\n    { name: 'TechnicalPro', rating: 1550 },    // Specialist - Cyan\n    { name: 'BlueExpert', rating: 1700 },      // Expert - Blue\n    { name: 'SkillMaster', rating: 1850 },     // Expert - Blue\n    { name: 'PurpleCandidate', rating: 1950 }, // Candidate Master - Purple\n    { name: 'AlmostMaster', rating: 2050 },    // Candidate Master - Purple\n    { name: 'OrangeMaster', rating: 2150 },    // Master - Orange\n    { name: 'TrueMaster', rating: 2250 },      // Master - Orange\n    { name: 'IntlMaster', rating: 2350 },      // International Master - Orange\n    { name: 'RedGrandmaster', rating: 2450 },  // Grandmaster - Red\n    { name: 'LegendaryGM', rating: 2600 },     // Grandmaster - Red\n  ];\n\n  // Add special players first\n  specialPlayers.forEach((special, index) => {\n    if (index < count) {\n      usedNames.add(special.name);\n      players.push({\n        id: `player-${index + 1}`,\n        name: special.name,\n        rating: special.rating,\n        matches: [],\n        createdAt: new Date(),\n        updatedAt: new Date()\n      });\n    }\n  });\n\n  // Fill remaining slots with regular players\n  for (let i = specialPlayers.length; i < count; i++) {\n    let name = generateRandomPlayerName();\n    \n    // Ensure unique names\n    while (usedNames.has(name)) {\n      name = generateRandomPlayerName();\n    }\n    usedNames.add(name);\n\n    // Add some variance to base rating (-100 to +100)\n    const ratingVariance = Math.floor(Math.random() * 201) - 100;\n    const rating = Math.max(800, baseRating + ratingVariance);\n\n    players.push({\n      id: `player-${i + 1}`,\n      name,\n      rating,\n      matches: [],\n      createdAt: new Date(),\n      updatedAt: new Date()\n    });\n  }\n\n  return players;\n}\n\n// CSV Data import functions\nexport interface CSVPlayerData {\n  first_name: string;\n  last_name: string;\n  city?: string;\n  yob?: number; // year of birth\n}\n\n// üèÜ –°–ø–∏—Å–æ–∫ –ö–ú–° (–ö–∞–Ω–¥–∏–¥–∞—Ç—ñ–≤ —É –ú–∞–π—Å—Ç—Ä–∏ –°–ø–æ—Ä—Ç—É) - —Ä–µ–∞–ª—å–Ω—ñ –∑–≤–∞–Ω–Ω—è\nconst CMS_PLAYERS = [\n  { first_name: \"–í–∞—Å–∏–ª—å\", last_name: \"–Ñ–≥–æ—Ä–æ–≤\" },\n  { first_name: \"–°—Ç–µ–ø–∞–Ω\", last_name: \"–ö–æ–≤–∞—á\" },\n  { first_name: \"–í—ñ—Ç–∞–ª—ñ–π\", last_name: \"–ë–∞–ª–∫–æ\" },\n  { first_name: \"–°–æ—Ñ—ñ—è\", last_name: \"–î—É–¥—á–µ–Ω–∫–æ\" },\n  { first_name: \"–ú–∞—Ä—ñ—è\", last_name: \"–õ–µ–≤–∫—ñ–≤—Å—å–∫–∞\" },\n  { first_name: \"–ú–∞–∫—Å–∏–º\", last_name: \"–ö–æ—Ä–æ–ª—å\" },\n  { first_name: \"–ú–∏–∫–æ–ª–∞\", last_name: \"–®–∏–∫—ñ—Ç–∫–∞\" },\n  { first_name: \"–í–æ–ª–æ–¥–∏–º–∏—Ä\", last_name: \"–ö–æ—Ä–æ—Ç—è\" },\n  { first_name: \"–ê—Ä—Ç—É—Ä\", last_name: \"–ó–µ–ª—ñ–Ω–∫–æ\" },\n  { first_name: \"–Ñ–≤–≥–µ–Ω\", last_name: \"–î—Ä–∞–≥—É–ª–∞\" },\n  { first_name: \"–ú–∏—Ö–∞–π–ª–æ\", last_name: \"–°–ª–∏—á–∫–æ\" },\n  { first_name: \"–ú–∏–∫–æ–ª–∞\", last_name: \"–ì—É–¥–µ–Ω–∫–æ\" },\n  { first_name: \"–°—Ç–µ—Ñ–∞–Ω—ñ—è\", last_name: \"–¶–µ—Ä–∫–æ–≤–Ω–∏–∫\" },\n  { first_name: \"–Ü–≤–∞–Ω\", last_name: \"–ü–µ–ª—ñ–Ω–∫–µ–≤–∏—á\" },\n  { first_name: \"–Æ–ª—ñ–π\", last_name: \"–ì–∞—Ä–∞–∫—Å–∏–º\" },\n  { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–°–∞–π–∫–æ–≤\" },\n  { first_name: \"–ú–∏–∫–æ–ª–∞\", last_name: \"–õ–µ–º—ñ—à\" },\n];\n\n// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ —î –≥—Ä–∞–≤–µ—Ü—å –ö–ú–°\nexport function isCMSPlayer(firstName: string, lastName: string): boolean {\n  return CMS_PLAYERS.some(\n    cms => cms.first_name === firstName && cms.last_name === lastName\n  );\n}\n\n// Function to parse CSV data and create players\nexport function createPlayersFromCSV(csvData: CSVPlayerData[], baseRating: number = 1300): Player[] {\n  const currentYear = new Date().getFullYear();\n  \n  return csvData.map((data, index) => {\n    const fullName = `${data.first_name} ${data.last_name}`.trim();\n    const yearOfBirth = data.yob || null;\n    const age = yearOfBirth ? currentYear - yearOfBirth : null;\n    const isCMS = isCMSPlayer(data.first_name, data.last_name);\n    \n    // üèÜ –ö–ú–° –ø–æ—á–∏–Ω–∞—é—Ç—å –∑ 1600, —ñ–Ω—à—ñ –∑ baseRating (–∑–∞–∑–≤–∏—á–∞–π 1300)\n    const startingRating = isCMS ? 1600 : baseRating;\n    // const startingRating = baseRating; // –í—Å—ñ –ø–æ—á–∏–Ω–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–æ\n    \n    return {\n      id: `real-player-${index + 1}`,\n      name: fullName,\n      firstName: data.first_name,\n      lastName: data.last_name,\n      city: data.city || '',\n      yearOfBirth: yearOfBirth || undefined,\n      age: age || undefined,\n      rating: startingRating,\n      initialRating: startingRating, // –§—ñ–∫—Å—É—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥\n      isCMS, // –ü–æ–∑–Ω–∞—á–∫–∞ –ö–ú–°\n      matches: [],\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n  });\n}\n\n// Function to load real players (hardcoded CSV data)\nexport function generateRealPlayers(): Player[] {\n  const csvData: CSVPlayerData[] = [\n    { first_name: \"–Æ–ª—ñ–π\", last_name: \"–ì–∞—Ä–∞–∫—Å–∏–º\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1985 },\n    { first_name: \"–ê—Ä—Ç—É—Ä\", last_name: \"–ó–µ–ª—ñ–Ω–∫–æ\", city: \"–ü–µ—Ä–µ—á–∏–Ω\", yob: 1991 },\n    { first_name: \"–í–æ–ª–æ–¥–∏–º–∏—Ä\", last_name: \"–ö–æ—Ä–æ—Ç—è\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1985 },\n    { first_name: \"–°—Ç–µ—Ñ–∞–Ω—ñ—è\", last_name: \"–¶–µ—Ä–∫–æ–≤–Ω–∏–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2008 },\n    { first_name: \"–Ñ–≤–≥–µ–Ω\", last_name: \"–î—Ä–∞–≥—É–ª–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1976 },\n    { first_name: \"–ú–∞–∫—Å–∏–º\", last_name: \"–ö–æ—Ä–æ–ª—å\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2011 },\n    { first_name: \"–ú–∏—Ö–∞–π–ª–æ\", last_name: \"–°–ª–∏—á–∫–æ\", city: \"–í–æ–ª–æ–≤–µ—Ü—å\", yob: 1997 },\n    { first_name: \"–†–æ–º–∞–Ω\", last_name: \"–ö–∞—á—É—Ä\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2001 },\n    { first_name: \"–ú–∏–∫–æ–ª–∞\", last_name: \"–®–∏–∫—ñ—Ç–∫–∞\", city: \"–¢–∞—Ä–Ω—ñ–≤—Ü—ñ\", yob: 1973 },\n    { first_name: \"–†–æ–º–∞–Ω\", last_name: \"–ß–∏–π–ø–µ—à\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1982 },\n    { first_name: \"–ú–∞–∫—Å–∏–º\", last_name: \"–†–æ—Å—É–ª\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2005 },\n    { first_name: \"–ú–∏–∫–æ–ª–∞\", last_name: \"–õ–µ–º—ñ—à\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1979 },\n    { first_name: \"–†–æ–º–∞–Ω\", last_name: \"–¶–µ—Ä–∫–æ–≤–Ω–∏–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1976 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–õ–∏–∑–∞–Ω–µ—Ü—å\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1985 },\n    { first_name: \"–ê–Ω–¥—Ä—ñ–π\", last_name: \"–°–µ—Ä–≥—î—î–≤\", city: \"–°—î–≤—î—Ä–æ–¥–æ–Ω–µ—Ü—å–∫\", yob: 1975 },\n    { first_name: \"–°–µ—Ä–≥—ñ–π\", last_name: \"–ö–æ—Ä–æ–ª—å\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1978 },\n    { first_name: \"–û–ª–µ–∫—Å—ñ–π\", last_name: \"–ü—Ä–æ—Å–∫—É—Ä—ñ–Ω\", city: \"–•–∞—Ä–∫—ñ–≤\", yob: 1979 },\n    { first_name: \"–Ñ–≤–≥–µ–Ω\", last_name: \"–ö—Ä–∞–≤—á–∞–∫\", city: \"–ß–æ–ø\", yob: 1987 },\n    { first_name: \"–í–æ–ª–æ–¥–∏–º–∏—Ä\", last_name: \"–ö–æ–º–∞—Ä–Ω–∏—Ü—å–∫–∏–π\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1975 },\n    { first_name: \"–ï–¥—É–∞—Ä–¥\", last_name: \"–û–ª–∞—Ö\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2006 },\n    { first_name: \"–û–ª–µ–≥\", last_name: \"–ì–∞–ª—É—à–∫–æ\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1996 },\n    { first_name: \"–†–∞–º—ñ—Ä\", last_name: \"–õ–∞—Ü–∫–æ\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2007 },\n    { first_name: \"–Ü–≤–∞–Ω\", last_name: \"–°–º–æ—á–∫–æ–≤\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1994 },\n    { first_name: \"–Ü–≤–∞–Ω\", last_name: \"–ë–æ—Ä—à–æ—à\", city: \"–Ü—Ä—à–∞–≤–∞\", yob: 1991 },\n    { first_name: \"–û–ª–µ–∫—Å—ñ–π\", last_name: \"–ë–∞–º–±—É—à–∫–∞—Ä\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1989 },\n    { first_name: \"–°—Ç–µ–ø–∞–Ω\", last_name: \"–ö–æ–≤–∞—á\", city: \"–°–ª–æ–≤'—è–Ω—Å—å–∫\", yob: 2004 },\n    { first_name: \"–ï–≤–≥–µ–Ω\", last_name: \"–ö—É—Ä—Ç–∏–Ω–µ—Ü—å\", city: \"–Ü—Ä—à–∞–≤–∞\", yob: 1995 },\n    { first_name: \"–¢–∏–±–µ—Ä—ñ–π\", last_name: \"–¢–∏—Ä–ø–∞–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2012 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–ì—Ä—ñ–Ω\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1994 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–®–∞—Ö—ñ–≤—Å—å–∫–∏–π\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1992 },\n    { first_name: \"–ú–∞—Ä–∫\", last_name: \"–ö–æ–ª—å–º–∞—Ä\", city: \"–°–ª–æ–≤'—è–Ω—Å—å–∫\", yob: 2004 },\n    { first_name: \"–ú–∞—Ä—Ç—ñ–Ω\", last_name: \"–î–æ–≤–≥–∞–Ω–∏—á\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2000 },\n    { first_name: \"–ú–∞—Ä—ñ—è\", last_name: \"–õ–µ–≤–∫—ñ–≤—Å—å–∫–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1983 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–ú–∏–º—Ä–µ–Ω–∫–æ\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1992 },\n    { first_name: \"–Ñ–≤–≥–µ–Ω\", last_name: \"–î–æ–≤–≥–∞–Ω–∏—á\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1997 },\n    { first_name: \"–ú–∞—Ä º—è–Ω\", last_name: \"–ú–∞—Ç—ñ—ó—à–∏–Ω\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1977 },\n    { first_name: \"–í–æ–ª–æ–¥–∏–º–∏—Ä\", last_name: \"–®–∏–∫—ñ—Ç–∫–∞\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1977 },\n    { first_name: \"–Æ—Ä—ñ–π\", last_name: \"–õ–µ–º—ñ—à\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2006 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–§–µ–¥—ñ–≤\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1986 },\n    { first_name: \"–í–∞–ª–µ–Ω—Ç–∏–Ω\", last_name: \"–°–≤–∞–ª—è–≤—á–∏–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1982 },\n    { first_name: \"–í–æ–ª–æ–¥–∏–º–∏—Ä\", last_name: \"–¢–∞—Ä–∞–Ω—á—É–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1993 },\n    { first_name: \"–ë–∞—Ä–¥–æ\", last_name: \"–ê–¥–∞–º\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2007 },\n    { first_name: \"–ê–Ω–¥—Ä—ñ–π\", last_name: \"–ë–∞–Ω–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2007 },\n    { first_name: \"–í—ñ–∫—Ç–æ—Ä\", last_name: \"–ó–∞–≥—É–º–µ–Ω–Ω–∏–π\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1988 },\n    { first_name: \"–†—É—Å–ª–∞–Ω\", last_name: \"–®–º–∏–≥–∞–Ω–æ–≤—Å—å–∫–∏–π\", city: \"–Ø–≥–æ—Ç–∏–Ω\", yob: 1988 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–ú–∏—Ä–æ–Ω–æ–≤\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1985 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–Ü–≤–∞–Ω–æ–≤–∏—á\", city: \"–°–ª–æ–≤'—è–Ω—Å—å–∫\", yob: 2003 },\n    { first_name: \"–Ü–≤–∞–Ω\", last_name: \"–ì—É—Ä—Å—å–∫–∏–π\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1991 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–ö—É–ª–∏–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1983 },\n    { first_name: \"–ö–∏—Ä–∏–ª–æ\", last_name: \"–ì–æ–ª—è–Ω–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2005 },\n    { first_name: \"–ü–∞–≤–ª–æ\", last_name: \"–ë—ñ–¥–∑—ñ–ª—è\", city: \"–í–∏–Ω–æ–≥—Ä–∞–¥—ñ–≤\", yob: 1989 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–õ–µ–Ω–¥—î–ª\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1992 },\n    { first_name: \"–°–µ—Ä–≥—ñ–π\", last_name: \"–î–∞–Ω–∞—à–µ–≤—Å—å–∫–∏–π\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1984 },\n    { first_name: \"–í–∞–ª–µ–Ω—Ç–∏–Ω\", last_name: \"–õ–µ–Ω–¥—î–ª\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 2002 },\n    { first_name: \"–ê–Ω–¥—Ä—ñ–π\", last_name: \"–ù–æ–≤–∏—Ü—å–∫–∏–π\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1994 },\n    { first_name: \"–ú–∞–∫—Å–∏–º\", last_name: \"–®–∏—à–∫–æ\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2001 },\n    { first_name: \"–ó–æ–ª—Ç–∞–Ω\", last_name: \"–ì–æ—Ä–æ—Å\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1979 },\n    { first_name: \"–ù–∞–∑–∞—Ä\", last_name: \"–û–ª–∞—Ö\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2007 },\n    { first_name: \"–ú–∏–∫–æ–ª–∞\", last_name: \"–°—Ç–µ–≥–Ω–µ–π\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1985 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–ñ–∏–¥–µ–Ω–∫–æ\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1952 },\n    { first_name: \"–ú–∏—Ö–∞–π–ª–æ\", last_name: \"–ü–æ–Ω–æ–º–∞—Ä–µ–Ω–∫–æ\", city: \"–ö–∏—ó–≤\", yob: 1986 },\n    { first_name: \"–í–æ–ª–æ–¥–∏–º–∏—Ä\", last_name: \"–ì–æ–±—Ä–µ–π\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1988 },\n    { first_name: \"–î–µ–Ω—ñ–µ–ª\", last_name: \"–ö–µ–¥–µ–±–µ—Ü\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1996 },\n    { first_name: \"–¢–∞—Ä–∞—Å\", last_name: \"–ü–æ—Ç–∞–ø—á—É–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1980 },\n    { first_name: \"–ê—Ä—Ç—É—Ä\", last_name: \"–ü–æ–ø—Ñ–∞–ª—É—à—ñ\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1999 },\n    { first_name: \"–ú–∏—Ö–∞–π–ª–æ\", last_name: \"–§–µ–¥–µ–ª–µ—â–∞–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2006 },\n    { first_name: \"–ï–¥—É–∞—Ä–¥\", last_name: \"–ê–º–æ—Å–æ–≤\", city: \"\", yob: 1984 },\n    { first_name: \"–Æ—Ä—ñ–π\", last_name: \"–ü–µ—Ä–µ—Å—Ç–∞\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 2003 },\n    { first_name: \"–ú–∏—Ö–∞–π–ª–æ\", last_name: \"–ë–æ–π–∫–æ\", city: \"\", yob: 1999 },\n    { first_name: \"–Ü–≤–∞–Ω\", last_name: \"–ë–æ–π—á—É–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2006 },\n    { first_name: \"–ê–Ω–¥—Ä—ñ–π\", last_name: \"–ë–∞–ª—ñ—Ü—å–∫–∏–π\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2006 },\n    { first_name: \"–í–∞—Å–∏–ª—å\", last_name: \"–Ñ–≥–æ—Ä–æ–≤\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1988 },\n    { first_name: \"–ê–Ω–¥—Ä—ñ–π\", last_name: \"–°–∏–Ω–∏—á–∫–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1990 },\n    { first_name: \"–Æ—Ä—ñ–π\", last_name: \"–ü–æ–ª—ñ—â—É–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1986 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–®–µ–≤–µ–ª—é–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1990 },\n    { first_name: \"–ë–æ–≥–¥–∞–Ω\", last_name: \"–ü–æ—Ä–æ—Ö\", city: \"–ü–∞–≤–ª–æ–≥—Ä–∞–¥\", yob: 2000 },\n    { first_name: \"–†–æ–º–∞–Ω\", last_name: \"–ì—É—Ä—á—É–º–µ–ª—ñ—è\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1983 },\n    { first_name: \"–í—ñ—Ç–∞–ª—ñ–π\", last_name: \"–ë–∞–ª–∫–æ\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1983 },\n    { first_name: \"–°–æ—Ñ—ñ—è\", last_name: \"–î—É–¥—á–µ–Ω–∫–æ\", city: \"–ö—Ä–∏–≤–∏–π –†—ñ–≥\", yob: 2010 },\n    { first_name: \"–í–ª–∞–¥—ñ—Å–ª–∞–≤\", last_name: \"–®–∏–∫—ñ—Ç–∫–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2003 },\n    { first_name: \"–í—ñ–∫—Ç–æ—Ä\", last_name: \"–î–µ–π–Ω–µ–∫–æ\", city: \"–ß–æ–ø\", yob: 1981 },\n    { first_name: \"–í–æ–ª–æ–¥–∏–º–∏—Ä\", last_name: \"–õ—É–∫–∞—à–µ–Ω–∫–æ\", city: \"–ß–µ—Ä–∫–∞—Å–∏\", yob: 1988 },\n    { first_name: \"–í–∞—Å–∏–ª—å\", last_name: \"–§–µ–¥–∏–Ω–∞\", city: \"–¢—è—á—ñ–≤\", yob: 1974 },\n    { first_name: \"–í–∞—Å–∏–ª—å\", last_name: \"–¢–æ—Ç—ñ–Ω\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2000 },\n    { first_name: \"–ê—Ä—Ö–∏–ø\", last_name: \"–û–Ω–∏—â–µ–Ω–∫–æ\", city: \"–•–∞—Ä–∫—ñ–≤\", yob: 2005 },\n    { first_name: \"–Ü–≤–∞–Ω\", last_name: \"–ü–µ–ª—ñ–Ω–∫–µ–≤–∏—á\", city: \"–õ—É—Ü—å–∫\", yob: 1990 },\n    { first_name: \"–í—ñ—Ç–∞–ª—ñ–π\", last_name: \"–ú–µ–ª—å–∑–∞–∫–æ–≤—Å—å–∫–∏–π\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1987 },\n    { first_name: \"–¢–æ–º—ñ\", last_name: \"–ß–æ–≤–∫–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2008 },\n    { first_name: \"–ú–∞—Ä—Ç—ñ–Ω\", last_name: \"–ü–∞–ø\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2003 },\n    { first_name: \"–Ü–≥–æ—Ä\", last_name: \"–ö—É–∑—å–º—ñ–Ω\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1987 },\n    { first_name: \"–í–∞—Å–∏–ª—å\", last_name: \"–ü—Ä–æ–¥–∞–Ω\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1987 },\n    { first_name: \"–°–µ—Ä–≥—ñ–π\", last_name: \"–ë—Ä–µ—Å–ª–∞–≤–µ—Ü—å\", city: \"–•–∞—Ä—å–∫–æ–≤\" },\n    { first_name: \"–ó–æ–ª—Ç–∞–Ω\", last_name: \"–ì–æ—Ä–≤–∞—Ç\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2004 },\n    { first_name: \"–°–µ—Ä–≥—ñ–π\", last_name: \"–®–µ—Ä–µ–≥—ñ–π\", city: \"–Ü—Ä—à–∞–≤–∞\", yob: 1979 },\n    { first_name: \"–û–ª–µ–∫—Å–∞–Ω–¥—Ä\", last_name: \"–ü–∞—Å—Ç–µ—Ä–Ω–∞–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1995 },\n    { first_name: \"–ú–∞–∫—Å–∏–º\", last_name: \"–ì—Ä—ñ–Ω–µ–Ω–∫–æ\", city: \"–°—É–º–∏\", yob: 1981 },\n    { first_name: \"–°–µ—Ä–≥—ñ–π\", last_name: \"–ö–æ—Ä–æ–ª–µ–≤\", city: \"–£–∂–≥–æ—Ä–æ–¥\" },\n    { first_name: \"–Ñ–ª—ñ—Å–µ–π\", last_name: \"–†–æ–≥–∞–Ω–æ–≤\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2001 },\n    { first_name: \"–°–µ—Ä–≥—ñ–π\", last_name: \"–ö–æ–±–∞–∫–∞\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1972 },\n    { first_name: \"–Ü–≥–æ—Ä\", last_name: \"–§–µ–¥–∏–Ω–∏—à–∏–Ω–µ—Ü—å\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1979 },\n    { first_name: \"–í–∞—Å–∏–ª—å\", last_name: \"–¢—É—Ä—è–Ω–∏—Ü—è\", city: \"–£–∂–≥–æ—Ä–æ–¥\" },\n    { first_name: \"–ê–≤–∞–Ω–µ—Å\", last_name: \"–ö–∞–ª—å–º–∞—Ä\", city: \"–°–ª–æ–≤'—è–Ω—Å—å–∫\" },\n    { first_name: \"–í–ª–∞–¥–∏—Å–ª–∞–≤\", last_name: \"–ö—É–∑—å–º–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2000 },\n    { first_name: \"–ê—Ä—Ç—É—Ä\", last_name: \"–õ–∞—Ü–∫–æ\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2006 },\n    { first_name: \"–Æ—Ä—ñ–π\", last_name: \"–ñ—É—Ä–∞–≤–ª—å–æ–≤\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1982 },\n    { first_name: \"–†—É—Å–ª–∞–Ω\", last_name: \"–ö–æ—Å–æ—Ä—É\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1989 },\n    { first_name: \"–î–∂–æ–Ω—ñ\", last_name: \"–ë—Ä—É–≥–æ—à\", city: \"\" },\n    { first_name: \"–í–ª–∞–¥–∏—Å–ª–∞–≤\", last_name: \"–ö—Ä–∞—Å–Ω—ñ–∫–æ–≤\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2002 },\n    { first_name: \"–Ü–ª–ª—è\", last_name: \"–ì—É–ª—î–≤–∞—Ç–∏–π\", city: \"\" },\n    { first_name: \"–î–º–∏—Ç—Ä–æ\", last_name: \"–ü–∏—à–∫–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2001 },\n    { first_name: \"–†–æ–º–∞–Ω\", last_name: \"–ë—ñ–∂–∫–æ\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1998 },\n    { first_name: \"–î–∞–Ω—ñ–µ–ª—å\", last_name: \"–®–µ—Ä–µ–º–µ—Ç–∞\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2005 },\n    { first_name: \"–†–æ–º–∞–Ω\", last_name: \"–ö–æ–∑–∞–∫\", city: \"–°—î–≤—î—Ä–æ–¥–æ–Ω–µ—Ü—å–∫\", yob: 1981 },\n    { first_name: \"–°–µ—Ä–≥—ñ–π\", last_name: \"–®—É–≥–∞—Ä\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2010 },\n    { first_name: \"–Æ—Ä—ñ–π\", last_name: \"–õ—É—á–∫–æ\", city: \"–ú—É–∫–∞—á–µ–≤–µ\", yob: 1955 },\n    { first_name: \"–î–µ–Ω–∏—Å\", last_name: \"–ü–∞–Ω–∫–æ–≤–∏—á\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2006 },\n    { first_name: \"–í—ñ–∫—Ç–æ—Ä\", last_name: \"–ì–∞–≤—Ä–∞–Ω\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1999 },\n    { first_name: \"–î–∞–≤—ñ–¥\", last_name: \"–®—É–≥–∞—Ä\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 2008 },\n    { first_name: \"–ê–Ω–¥—Ä—ñ–π\", last_name: \"–ú–æ—Å–∫–∞–ª—é–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1997 },\n    { first_name: \"–ú–∏–∫–æ–ª–∞\", last_name: \"–ì—É–¥–µ–Ω–∫–æ\", city: \"–õ—å–≤—ñ–≤\", yob: 1998 },\n    { first_name: \"–í—ñ—Ç–∞–ª—ñ–π\", last_name: \"–ö—Ä–∞–≤—á–∞–∫\", city: \"–£–∂–≥–æ—Ä–æ–¥\", yob: 1982 }\n  ];\n  \n  return createPlayersFromCSV(csvData, 1300);\n}\n\n// Calculate player statistics\nexport function calculatePlayerStats(player: Player, matches: Match[]): PlayerStats {\n  const playerMatches = matches.filter(match => \n    match.player1Id === player.id || match.player2Id === player.id\n  );\n\n  const wins = playerMatches.filter(match => match.winnerId === player.id).length;\n  const losses = playerMatches.length - wins;\n  const winRate = playerMatches.length > 0 ? (wins / playerMatches.length) * 100 : 0;\n\n  // Calculate highest and lowest ratings from match history\n  const ratings = [player.rating, player.initialRating ?? 1300]; // –ü–æ—Ç–æ—á–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ + –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥\n  playerMatches.forEach(match => {\n    if (match.player1Id === player.id) {\n      ratings.push(match.player1RatingBefore);\n      ratings.push(match.player1RatingAfter);\n    } else {\n      ratings.push(match.player2RatingBefore);\n      ratings.push(match.player2RatingAfter);\n    }\n  });\n\n  const highestRating = Math.max(...ratings);\n  const lowestRating = Math.min(...ratings);\n  const initialRating = player.initialRating ?? 1300; // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –¥–ª—è –≤—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤\n  const ratingChange = player.rating - initialRating;\n\n  return {\n    totalMatches: playerMatches.length,\n    wins,\n    losses,\n    winRate: Math.round(winRate),\n    highestRating,\n    lowestRating,\n    ratingChange\n  };\n}\n\n// Sort players by rating (descending)\nexport function sortPlayersByRating(players: Player[]): Player[] {\n  return [...players].sort((a, b) => b.rating - a.rating);\n}\n\n// Simulate a random match between two players with score\nexport function simulateMatch(player1: Player, player2: Player): Match {\n  // –í–∏–ø–∞–¥–∫–æ–≤–∏–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–∞—Ö—É–Ω–æ–∫ (–≤—ñ–¥ 3 –¥–æ 10, –∑ –ø–µ—Ä–µ–≤–∞–≥–æ—é –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å)\n  const popularScores = [3, 5, 5, 7, 7, 7, 10, 10]; // 5 —ñ 7 —á–∞—Å—Ç—ñ—à–µ\n  const maxScore = popularScores[Math.floor(Math.random() * popularScores.length)];\n  \n  // Higher rated player has better chance to win\n  const ratingDiff = player1.rating - player2.rating;\n  const player1WinProbability = 1 / (1 + Math.pow(10, -ratingDiff / 400));\n  \n  let player1Score: number, player2Score: number;\n  \n  // üî• –ñ–û–†–°–¢–ö–ê –°–ò–ú–£–õ–Ø–¶–Ü–Ø ‚Äî –≤–µ–ª–∏–∫a —Ä—ñ–∑–Ω–∏—Ü—è = –¥–æ–º—ñ–Ω–∞—Ü—ñ—è\n  const calculateSimulationExpectedScore = (ratingDiff: number, maxScore: number): number => {\n    let expectedPercentage: number;\n    const absDiff = Math.abs(ratingDiff);\n    \n    // –¢–æ–ø –º–∞—î –í–ë–ò–í–ê–¢–ò —Å–ª–∞–±—à–∏—Ö\n    if (absDiff < 50) expectedPercentage = 0.45;\n    else if (absDiff < 100) expectedPercentage = 0.35;\n    else if (absDiff < 200) expectedPercentage = 0.25;\n    else if (absDiff < 300) expectedPercentage = 0.15;\n    else if (absDiff < 400) expectedPercentage = 0.1;\n    else expectedPercentage = 0.05; // 10:0, 7:0, 5:0\n    \n    return Math.round(maxScore * expectedPercentage);\n  };\n  \n  if (Math.random() < player1WinProbability) {\n    // Player 1 wins\n    player1Score = maxScore;\n    const expectedPlayer2Score = calculateSimulationExpectedScore(Math.abs(ratingDiff), maxScore);\n    player2Score = Math.max(0, Math.min(maxScore - 1, expectedPlayer2Score + Math.floor(Math.random() * 3) - 1));\n  } else {\n    // Player 2 wins\n    player2Score = maxScore;\n    const expectedPlayer1Score = calculateSimulationExpectedScore(Math.abs(ratingDiff), maxScore);\n    player1Score = Math.max(0, Math.min(maxScore - 1, expectedPlayer1Score + Math.floor(Math.random() * 3) - 1));\n  }\n\n  const winnerId = player1Score > player2Score ? player1.id : player2.id;\n\n  // –û—Ç—Ä–∏–º—É—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–≥–æ—Ä –∫–æ–∂–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è\n  const player1Games = player1.matches?.length || 0;\n  const player2Games = player2.matches?.length || 0;\n\n  const { player1Change, player2Change } = calculateRatingChange(\n    player1.rating,\n    player2.rating,\n    player1Score,\n    player2Score,\n    maxScore,\n    player1Games,\n    player2Games\n  );\n\n  // RATING FLOOR ‚Äî –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ 900 (–∑–Ω–∏–∂–µ–Ω–æ –∑ 1000)\n  const player1RatingAfter = Math.max(RATING_CONFIG.RATING_FLOOR, player1.rating + player1Change);\n  const player2RatingAfter = Math.max(RATING_CONFIG.RATING_FLOOR, player2.rating + player2Change);\n\n  const match: Match = {\n    id: `match-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n    player1Id: player1.id,\n    player2Id: player2.id,\n    winnerId,\n    player1Score,\n    player2Score,\n    maxScore,\n    player1RatingBefore: player1.rating,\n    player2RatingBefore: player2.rating,\n    player1RatingAfter,\n    player2RatingAfter,\n    player1RatingChange: player1Change,\n    player2RatingChange: player2Change,\n    date: new Date()\n  };\n\n  return match;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1790, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/context/AppContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { Player, Match } from '@/types';\nimport { generateInitialPlayers, generateRealPlayers, calculateRatingChange, simulateMatch } from '@/utils/rating';\n\ninterface AppState {\n  players: Player[];\n  matches: Match[];\n  loading: boolean;\n  error: string | null;\n  isClient: boolean;\n}\n\ntype AppAction =\n  | { type: 'SET_LOADING'; payload: boolean }\n  | { type: 'SET_ERROR'; payload: string | null }\n  | { type: 'SET_PLAYERS'; payload: Player[] }\n  | { type: 'SET_MATCHES'; payload: Match[] }\n  | { type: 'ADD_MATCH'; payload: Match }\n  | { type: 'UPDATE_PLAYER_RATINGS'; payload: { player1Id: string; player2Id: string; newRating1: number; newRating2: number; matchId: string } }\n  | { type: 'SET_CLIENT'; payload: boolean }\n  | { type: 'INITIALIZE_DATA'; payload: { players: Player[]; matches: Match[] } };\n\nconst initialState: AppState = {\n  players: [],\n  matches: [],\n  loading: true,\n  error: null,\n  isClient: false,\n};\n\nfunction appReducer(state: AppState, action: AppAction): AppState {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, loading: action.payload };\n    \n    case 'SET_ERROR':\n      return { ...state, error: action.payload };\n    \n    case 'SET_CLIENT':\n      return { ...state, isClient: action.payload };\n    \n    case 'SET_PLAYERS':\n      return { ...state, players: action.payload };\n    \n    case 'SET_MATCHES':\n      return { ...state, matches: action.payload };\n    \n    case 'ADD_MATCH':\n      return { \n        ...state, \n        matches: [...state.matches, action.payload],\n      };\n    \n    case 'UPDATE_PLAYER_RATINGS':\n      return {\n        ...state,\n        players: state.players.map(player => {\n          if (player.id === action.payload.player1Id) {\n            return { \n              ...player, \n              rating: action.payload.newRating1,\n              matches: [...player.matches, action.payload.matchId],\n              updatedAt: new Date()\n            };\n          }\n          if (player.id === action.payload.player2Id) {\n            return { \n              ...player, \n              rating: action.payload.newRating2,\n              matches: [...player.matches, action.payload.matchId],\n              updatedAt: new Date()\n            };\n          }\n          return player;\n        }),\n      };\n    \n    case 'INITIALIZE_DATA':\n      return {\n        ...state,\n        players: action.payload.players,\n        matches: action.payload.matches,\n        loading: false,\n      };\n    \n    default:\n      return state;\n  }\n}\n\ninterface AppContextType {\n  state: AppState;\n  addMatch: (player1Id: string, player2Id: string, winnerId: string, player1Score: number, player2Score: number, maxScore: number) => void;\n  resetData: () => void;\n  loadRealPlayers: () => void;\n  simulateRandomMatches: (count: number) => void;\n  importCsvMatches: (warmupRuns?: number) => Promise<void>;\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\nexport function AppProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n\n  // Set client-side flag\n  useEffect(() => {\n    dispatch({ type: 'SET_CLIENT', payload: true });\n  }, []);\n\n  // Load data from localStorage on mount\n  useEffect(() => {\n    if (!state.isClient) return; // Only run on client-side\n\n    const loadData = () => {\n      try {\n        // –í–µ—Ä—Å—ñ—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ (–∑–º—ñ–Ω—é–π—Ç–µ –ø—Ä–∏ –∑–º—ñ–Ω—ñ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥—É)\n        const RATING_SYSTEM_VERSION = 'v3.1.1-cms';\n        const savedVersion = localStorage.getItem('billiard-rating-version');\n        \n        // –Ø–∫—â–æ –≤–µ—Ä—Å—ñ—è –∑–º—ñ–Ω–∏–ª–∞—Å—å - –æ—á–∏—â–∞—î–º–æ —Å—Ç–∞—Ä—ñ –¥–∞–Ω—ñ\n        if (savedVersion !== RATING_SYSTEM_VERSION) {\n          console.log(`üîÑ Rating system updated from ${savedVersion || 'old'} to ${RATING_SYSTEM_VERSION}. Clearing old data...`);\n          localStorage.removeItem('billiard-players');\n          localStorage.removeItem('billiard-matches');\n          localStorage.setItem('billiard-rating-version', RATING_SYSTEM_VERSION);\n          \n          // Generate initial data with new version\n          const initialPlayers = generateInitialPlayers(100, 1000);\n          dispatch({ type: 'INITIALIZE_DATA', payload: { players: initialPlayers, matches: [] } });\n          return;\n        }\n\n        const savedPlayers = localStorage.getItem('billiard-players');\n        const savedMatches = localStorage.getItem('billiard-matches');\n\n        if (savedPlayers && savedMatches) {\n          const players = JSON.parse(savedPlayers).map((p: any) => ({\n            ...p,\n            createdAt: new Date(p.createdAt),\n            updatedAt: new Date(p.updatedAt),\n          }));\n          const matches = JSON.parse(savedMatches).map((m: any) => ({\n            ...m,\n            date: new Date(m.date),\n            // –î–æ–¥–∞—î–º–æ –ø–æ–ª—è —Ä–∞—Ö—É–Ω–∫—É –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑ —Å—Ç–∞—Ä–∏–º–∏ –º–∞—Ç—á–∞–º–∏\n            player1Score: m.player1Score || (m.winnerId === m.player1Id ? 1 : 0),\n            player2Score: m.player2Score || (m.winnerId === m.player2Id ? 1 : 0),\n            maxScore: m.maxScore || 1,\n          }));\n\n          dispatch({ type: 'INITIALIZE_DATA', payload: { players, matches } });\n        } else {\n          // Generate initial data if none exists\n          localStorage.setItem('billiard-rating-version', RATING_SYSTEM_VERSION);\n          const initialPlayers = generateInitialPlayers(100, 1000);\n          dispatch({ type: 'INITIALIZE_DATA', payload: { players: initialPlayers, matches: [] } });\n        }\n      } catch (error) {\n        console.error('Error loading data:', error);\n        dispatch({ type: 'SET_ERROR', payload: 'Failed to load data' });\n        // Generate initial data on error\n        const initialPlayers = generateInitialPlayers(100, 1000);\n        dispatch({ type: 'INITIALIZE_DATA', payload: { players: initialPlayers, matches: [] } });\n      }\n    };\n\n    loadData();\n  }, [state.isClient]);\n\n  // Save data to localStorage whenever it changes\n  useEffect(() => {\n    if (!state.loading && state.players.length > 0 && state.isClient) {\n      localStorage.setItem('billiard-players', JSON.stringify(state.players));\n      localStorage.setItem('billiard-matches', JSON.stringify(state.matches));\n      localStorage.setItem('billiard-rating-version', 'v3.1.1-cms');\n    }\n  }, [state.players, state.matches, state.loading, state.isClient]);\n\n  const addMatch = (player1Id: string, player2Id: string, winnerId: string, player1Score: number, player2Score: number, maxScore: number) => {\n    const player1 = state.players.find(p => p.id === player1Id);\n    const player2 = state.players.find(p => p.id === player2Id);\n\n    if (!player1 || !player2) {\n      dispatch({ type: 'SET_ERROR', payload: 'Players not found' });\n      return;\n    }\n\n    const { player1Change, player2Change } = calculateRatingChange(\n      player1.rating,\n      player2.rating,\n      player1Score,\n      player2Score,\n      maxScore\n    );\n\n    const newMatch: Match = {\n      id: `match-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      player1Id,\n      player2Id,\n      player1Name: player1.name, // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —ñ–º–µ–Ω–∞ –¥–ª—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏—Ö –ø—Ä–æ—Ñ—ñ–ª—ñ–≤\n      player2Name: player2.name,\n      winnerId,\n      player1Score,\n      player2Score,\n      maxScore,\n      player1RatingBefore: player1.rating,\n      player2RatingBefore: player2.rating,\n      player1RatingAfter: player1.rating + player1Change,\n      player2RatingAfter: player2.rating + player2Change,\n      player1RatingChange: player1Change,\n      player2RatingChange: player2Change,\n      date: new Date(),\n    };\n\n    dispatch({ type: 'ADD_MATCH', payload: newMatch });\n    dispatch({ \n      type: 'UPDATE_PLAYER_RATINGS', \n      payload: { \n        player1Id, \n        player2Id, \n        newRating1: newMatch.player1RatingAfter,\n        newRating2: newMatch.player2RatingAfter,\n        matchId: newMatch.id\n      } \n    });\n  };\n\n  const resetData = () => {\n    const initialPlayers = generateInitialPlayers(100, 1000);\n    dispatch({ type: 'SET_PLAYERS', payload: initialPlayers });\n    dispatch({ type: 'SET_MATCHES', payload: [] });\n    localStorage.removeItem('billiard-players');\n    localStorage.removeItem('billiard-matches');\n  };\n\n  const loadRealPlayers = () => {\n    const realPlayers = generateRealPlayers();\n    dispatch({ type: 'SET_PLAYERS', payload: realPlayers });\n    dispatch({ type: 'SET_MATCHES', payload: [] });\n    localStorage.removeItem('billiard-players');\n    localStorage.removeItem('billiard-matches');\n  };\n\n  const simulateRandomMatches = (count: number) => {\n    // –°—Ç–≤–æ—Ä—é—î–º–æ –ª–æ–∫–∞–ª—å–Ω—É –∫–æ–ø—ñ—é –≥—Ä–∞–≤—Ü—ñ–≤ –¥–ª—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤\n    let currentPlayers = [...state.players];\n    const newMatches: Match[] = [];\n    \n    for (let i = 0; i < count; i++) {\n      // Pick two random players from current local state\n      const player1Index = Math.floor(Math.random() * currentPlayers.length);\n      let player2Index = Math.floor(Math.random() * currentPlayers.length);\n      \n      // Ensure different players\n      while (player2Index === player1Index) {\n        player2Index = Math.floor(Math.random() * currentPlayers.length);\n      }\n\n      const player1 = currentPlayers[player1Index];\n      const player2 = currentPlayers[player2Index];\n\n      // –°–∏–º—É–ª—é—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ç—á—É\n      const ratingDiff = player1.rating - player2.rating;\n      const player1WinProbability = 1 / (1 + Math.pow(10, -ratingDiff / 400));\n      const maxScore = [5, 7, 10][Math.floor(Math.random() * 3)];\n      \n      let player1Score: number, player2Score: number, winnerId: string;\n      \n      if (Math.random() < player1WinProbability) {\n        // Player 1 wins\n        player1Score = maxScore;\n        player2Score = Math.max(0, Math.min(maxScore - 1, Math.floor(Math.random() * (maxScore - 1))));\n        winnerId = player1.id;\n      } else {\n        // Player 2 wins\n        player2Score = maxScore;\n        player1Score = Math.max(0, Math.min(maxScore - 1, Math.floor(Math.random() * (maxScore - 1))));\n        winnerId = player2.id;\n      }\n\n      // –†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ –∑–º—ñ–Ω–∏ —Ä–µ–π—Ç–∏–Ω–≥—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–æ—Ç–æ—á–Ω–∏—Ö —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤\n      const { player1Change, player2Change } = calculateRatingChange(\n        player1.rating,\n        player2.rating,\n        player1Score,\n        player2Score,\n        maxScore\n      );\n\n      // –°—Ç–≤–æ—Ä—é—î–º–æ –º–∞—Ç—á\n      const newMatch: Match = {\n        id: `match-${Date.now()}-${i}-${Math.random().toString(36).substr(2, 9)}`,\n        player1Id: player1.id,\n        player2Id: player2.id,\n        player1Name: player1.name, // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —ñ–º–µ–Ω–∞ –¥–ª—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏—Ö –ø—Ä–æ—Ñ—ñ–ª—ñ–≤\n        player2Name: player2.name,\n        winnerId,\n        player1Score,\n        player2Score,\n        maxScore,\n        player1RatingBefore: player1.rating,\n        player2RatingBefore: player2.rating,\n        player1RatingAfter: player1.rating + player1Change,\n        player2RatingAfter: player2.rating + player2Change,\n        player1RatingChange: player1Change,\n        player2RatingChange: player2Change,\n        date: new Date(Date.now() + i), // –î–æ–¥–∞—î–º–æ –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è\n      };\n\n      // –û–Ω–æ–≤–ª—é—î–º–æ –ª–æ–∫–∞–ª—å–Ω—ñ –∫–æ–ø—ñ—ó –≥—Ä–∞–≤—Ü—ñ–≤ –∑ –Ω–æ–≤–∏–º–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏ —Ç–∞ –º–∞—Ç—á–∞–º–∏\n      currentPlayers[player1Index] = {\n        ...player1,\n        rating: newMatch.player1RatingAfter,\n        matches: [...player1.matches, newMatch.id],\n        updatedAt: new Date()\n      };\n      \n      currentPlayers[player2Index] = {\n        ...player2, \n        rating: newMatch.player2RatingAfter,\n        matches: [...player2.matches, newMatch.id],\n        updatedAt: new Date()\n      };\n\n      newMatches.push(newMatch);\n\n      // –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –¥–µ–±–∞–≥—É\n      console.log(`Match ${i + 1}/${count}: ${player1.name} (${player1.rating}->${newMatch.player1RatingAfter}) vs ${player2.name} (${player2.rating}->${newMatch.player2RatingAfter})`);\n      console.log(`Result: ${player1Score}:${player2Score}, Winner: ${winnerId === player1.id ? player1.name : player2.name}`);\n    }\n\n    // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –æ–¥–Ω–∏–º –±–∞—Ç—á–µ–º –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤—Å—ñ—Ö —Å–∏–º—É–ª—è—Ü—ñ–π\n    dispatch({ type: 'SET_PLAYERS', payload: currentPlayers });\n    dispatch({ type: 'SET_MATCHES', payload: [...state.matches, ...newMatches] });\n    \n    console.log(`–°–∏–º—É–ª—è—Ü—ñ—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: ${count} –º–∞—Ç—á—ñ–≤, —Ä–µ–π—Ç–∏–Ω–≥–∏ –æ–Ω–æ–≤–ª–µ–Ω–æ`);\n  };\n\n  const importCsvMatches = async (warmupRuns: number = 0) => {\n    try {\n      const url = warmupRuns > 0 \n        ? `/api/import-csv?warmupRuns=${warmupRuns}`\n        : '/api/import-csv';\n      \n      const res = await fetch(url);\n      if (!res.ok) throw new Error('CSV import failed');\n      const data = await res.json();\n\n      const players = (data.players as any[]).map((p) => ({\n        ...p,\n        createdAt: new Date(p.createdAt),\n        updatedAt: new Date(p.updatedAt),\n      }));\n\n      const matches = (data.matches as any[]).map((m) => ({\n        ...m,\n        date: new Date(m.date),\n      }));\n\n      dispatch({ type: 'SET_PLAYERS', payload: players });\n      dispatch({ type: 'SET_MATCHES', payload: matches });\n\n      console.log('CSV import summary:', data.summary);\n      return data.summary;\n    } catch (error) {\n      console.error('CSV import failed', error);\n      dispatch({ type: 'SET_ERROR', payload: '–ù–µ –≤–¥–∞–ª–æ—Å—è —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ CSV' });\n      throw error;\n    }\n  };\n\n  return (\n    <AppContext.Provider value={{ state, addMatch, resetData, loadRealPlayers, simulateRandomMatches, importCsvMatches }}>\n      {children}\n    </AppContext.Provider>\n  );\n}\n\nexport function useApp() {\n  const context = useContext(AppContext);\n  if (context === undefined) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2215, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/components/MatchSimulator.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useApp } from '@/context/AppContext';\n\nexport default function MatchSimulator() {\n  const { state, addMatch, simulateRandomMatches, resetData, loadRealPlayers, importCsvMatches } = useApp();\n  const [player1Id, setPlayer1Id] = useState('');\n  const [player2Id, setPlayer2Id] = useState('');\n  const [winnerId, setWinnerId] = useState('');\n  const [player1Score, setPlayer1Score] = useState<number>(0);\n  const [player2Score, setPlayer2Score] = useState<number>(0);\n  const [maxScore, setMaxScore] = useState<number>(5);\n  const [randomMatchCount, setRandomMatchCount] = useState(10);\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [importing, setImporting] = useState(false);\n  const [importMessage, setImportMessage] = useState<string | null>(null);\n  \n  // Rating cap tracking (–∑–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞ —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤)\n  const [ratingCapBefore, setRatingCapBefore] = useState<number | null>(null);\n  const [ratingCapAfter, setRatingCapAfter] = useState<number | null>(null);\n  const [matchCountBefore, setMatchCountBefore] = useState<number>(0);\n\n  // Search states for player selection\n  const [player1Search, setPlayer1Search] = useState('');\n  const [player2Search, setPlayer2Search] = useState('');\n  const [showPlayer1Dropdown, setShowPlayer1Dropdown] = useState(false);\n  const [showPlayer2Dropdown, setShowPlayer2Dropdown] = useState(false);\n\n  // –í—ñ–¥—Å—Ç–µ–∂—É—î–º–æ –∑–º—ñ–Ω–∏ –≤ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –º–∞—Ç—á—ñ–≤ –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–∞–ø—É –ø—ñ—Å–ª—è —Å–∏–º—É–ª—è—Ü—ñ—ó\n  useEffect(() => {\n    if (matchCountBefore > 0 && state.matches.length > matchCountBefore) {\n      // –ú–∞—Ç—á—ñ –¥–æ–¥–∞–ª–∏—Å—è - –æ–Ω–æ–≤–ª—é—î–º–æ –∫–∞–ø –ü–Ü–°–õ–Ø\n      const capAfter = state.players.reduce((sum, player) => sum + player.rating, 0);\n      setRatingCapAfter(capAfter);\n      setMatchCountBefore(0); // –°–∫–∏–¥–∞—î–º–æ —Ç—Ä–∏–≥–µ—Ä\n    }\n  }, [state.matches.length, state.players, matchCountBefore]);\n\n  // Filter players based on search\n  const filterPlayers = (searchTerm: string) => {\n    if (!searchTerm) return state.players;\n    return state.players.filter(player => \n      player.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  };\n\n  const handlePlayer1Select = (player: any) => {\n    setPlayer1Id(player.id);\n    setPlayer1Search(player.name);\n    setShowPlayer1Dropdown(false);\n    if (winnerId === player.id) {\n      setPlayer1Score(maxScore);\n    } else if (winnerId && winnerId !== player.id) {\n      setPlayer1Score(Math.max(0, maxScore - 1));\n    }\n  };\n\n  const handlePlayer2Select = (player: any) => {\n    setPlayer2Id(player.id);\n    setPlayer2Search(player.name);\n    setShowPlayer2Dropdown(false);\n    if (winnerId === player.id) {\n      setPlayer2Score(maxScore);\n    } else if (winnerId && winnerId !== player.id) {\n      setPlayer2Score(Math.max(0, maxScore - 1));\n    }\n  };\n\n  const handleAddMatch = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!player1Id || !player2Id || !winnerId) {\n      alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å –≤—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤ —Ç–∞ –ø–µ—Ä–µ–º–æ–∂—Ü—è');\n      return;\n    }\n\n    if (player1Id === player2Id) {\n      alert('–û–±–µ—Ä—ñ—Ç—å —Ä—ñ–∑–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤');\n      return;\n    }\n\n    if (player1Score < 0 || player2Score < 0) {\n      alert('–†–∞—Ö—É–Ω–æ–∫ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥\\'—î–º–Ω–∏–º');\n      return;\n    }\n\n    if (maxScore <= 0 || maxScore > 10) {\n      alert('–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–∞—Ö—É–Ω–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤—ñ–¥ 1 –¥–æ 10');\n      return;\n    }\n\n    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —â–æ –ø–µ—Ä–µ–º–æ–∂–µ—Ü—å –¥—ñ–π—Å–Ω–æ –º–∞—î –±—ñ–ª—å—à–∏–π —Ä–∞—Ö—É–Ω–æ–∫\n    const winnerScore = winnerId === player1Id ? player1Score : player2Score;\n    const loserScore = winnerId === player1Id ? player2Score : player1Score;\n    \n    if (winnerScore <= loserScore) {\n      alert('–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –±—ñ–ª—å—à–∏–π —Ä–∞—Ö—É–Ω–æ–∫');\n      return;\n    }\n\n    if (winnerScore !== maxScore) {\n      alert(`–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ —Ä–∞—Ö—É–Ω–æ–∫ ${maxScore}`);\n      return;\n    }\n\n    addMatch(player1Id, player2Id, winnerId, player1Score, player2Score, maxScore);\n    \n    // Reset form\n    setPlayer1Id('');\n    setPlayer2Id('');\n    setWinnerId('');\n    setPlayer1Score(0);\n    setPlayer2Score(0);\n    setMaxScore(5);\n    setPlayer1Search('');\n    setPlayer2Search('');\n    setShowPlayer1Dropdown(false);\n    setShowPlayer2Dropdown(false);\n  };\n\n  const handleSimulateRandomMatches = () => {\n    if (randomMatchCount <= 0 || randomMatchCount > 1000) {\n      alert('–ö—ñ–ª—å–∫—ñ—Å—Ç—å –º–∞—Ç—á—ñ–≤ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –≤—ñ–¥ 1 –¥–æ 1000');\n      return;\n    }\n\n    setIsSimulating(true);\n    try {\n      // –û–±—á–∏—Å–ª—é—î–º–æ –∫–∞–ø –î–û —Å–∏–º—É–ª—è—Ü—ñ—ó\n      const capBefore = state.players.reduce((sum, player) => sum + player.rating, 0);\n      setRatingCapBefore(capBefore);\n      setMatchCountBefore(state.matches.length); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ—Ç–æ—á–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–∞—Ç—á—ñ–≤\n      \n      // –°–∏–º—É–ª—é—î–º–æ –º–∞—Ç—á—ñ (—Å—Ç–∞–Ω –æ–Ω–æ–≤–∏—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)\n      simulateRandomMatches(randomMatchCount);\n      \n      // capAfter –±—É–¥–µ –æ–±—á–∏—Å–ª–µ–Ω–æ –≤ useEffect –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É\n    } finally {\n      setIsSimulating(false);\n    }\n  };\n\n  const handleResetData = () => {\n    if (confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ —Å–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ? –¶–µ –≤–∏–¥–∞–ª–∏—Ç—å –≤—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤ —Ç–∞ –º–∞—Ç—á—ñ.')) {\n      resetData();\n    }\n  };\n\n  const handleLoadRealPlayers = () => {\n    if (confirm('–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ–∞–ª—å–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤? –¶–µ –∑–∞–º—ñ–Ω–∏—Ç—å –ø–æ—Ç–æ—á–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –Ω–∞ 115 —Ä–µ–∞–ª—å–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –∑ —Ä–µ–π—Ç–∏–Ω–≥–æ–º 1300.')) {\n      loadRealPlayers();\n    }\n  };\n\n  const handleImportMatches = async () => {\n    setImportMessage(null);\n    setImporting(true);\n    try {\n      await importCsvMatches(0); // –ë–µ–∑ warmup\n      setImportMessage('–Ü–º–ø–æ—Ä—Ç —É—Å–ø—ñ—à–Ω–∏–π: –º–∞—Ç—á—ñ —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–∏ –æ–Ω–æ–≤–ª–µ–Ω–æ');\n    } catch (error) {\n      setImportMessage('–ü–æ–º–∏–ª–∫–∞ —ñ–º–ø–æ—Ä—Ç—É. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');\n    } finally {\n      setImporting(false);\n    }\n  };\n\n  // Close dropdowns when clicking outside\n  React.useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as HTMLElement;\n      if (!target.closest('.player-search-container')) {\n        setShowPlayer1Dropdown(false);\n        setShowPlayer2Dropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  if (state.loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-4 bg-gray-300 rounded w-1/4 mb-4\"></div>\n          <div className=\"space-y-3\">\n            <div className=\"h-4 bg-gray-300 rounded\"></div>\n            <div className=\"h-4 bg-gray-300 rounded w-3/4\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Manual Match Addition */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">–î–æ–¥–∞—Ç–∏ –º–∞—Ç—á</h2>\n        \n        <form onSubmit={handleAddMatch} className=\"space-y-4\">\n          {/* Match Settings */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label htmlFor=\"maxScore\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                –ì—Ä–∞ –¥–æ —Å–∫—ñ–ª—å–∫–∏ –æ—á–æ–∫ (1-10)\n              </label>\n              <input\n                type=\"number\"\n                id=\"maxScore\"\n                min=\"1\"\n                max=\"10\"\n                value={maxScore}\n                onChange={(e) => setMaxScore(parseInt(e.target.value) || 1)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500\"\n                placeholder=\"–í–≤–µ–¥—ñ—Ç—å —á–∏—Å–ª–æ –≤—ñ–¥ 1 –¥–æ 10\"\n              />\n              <div className=\"mt-1 text-xs text-gray-500\">\n                –ü–æ–ø—É–ª—è—Ä–Ω—ñ: 3, 5, 7, 10 –æ—á–æ–∫\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* Player 1 */}\n            <div>\n              <label htmlFor=\"player1\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                –ì—Ä–∞–≤–µ—Ü—å 1\n              </label>\n              <div className=\"relative player-search-container\">\n                <input\n                  type=\"text\"\n                  id=\"player1\"\n                  value={player1Search}\n                  onChange={(e) => {\n                    setPlayer1Search(e.target.value);\n                    setShowPlayer1Dropdown(true);\n                    if (!e.target.value) {\n                      setPlayer1Id('');\n                    }\n                  }}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n                  placeholder=\"–ü–æ—à—É–∫ –≥—Ä–∞–≤—Ü—è 1\"\n                  required\n                />\n                {showPlayer1Dropdown && (\n                  <div className=\"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-60 overflow-auto\">\n                    {filterPlayers(player1Search).length === 0 ? (\n                      <div className=\"px-4 py-2 text-gray-500 text-sm\">\n                        –ì—Ä–∞–≤—Ü—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ\n                      </div>\n                    ) : (\n                      filterPlayers(player1Search).map(player => (\n                        <div\n                          key={player.id}\n                          onClick={() => handlePlayer1Select(player)}\n                          className=\"cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-blue-600 hover:text-white\"\n                        >\n                          <div className=\"flex items-center\">\n                            <div className=\"text-sm font-medium\">\n                              {player.name}\n                            </div>\n                            <div className=\"text-xs text-gray-400 ml-2\">\n                              {player.rating}\n                            </div>\n                          </div>\n                          <div className=\"absolute inset-y-0 right-0 flex items-center pr-4\">\n                            <span className=\"text-blue-600 text-xs font-semibold\">\n                              –û–±—Ä–∞–Ω–æ\n                            </span>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                )}\n              </div>\n              {player1Id && (\n                <div className=\"mt-2\">\n                  <label htmlFor=\"player1Score\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    –†–∞—Ö—É–Ω–æ–∫ –≥—Ä–∞–≤—Ü—è 1\n                  </label>\n                  <input\n                    type=\"number\"\n                    id=\"player1Score\"\n                    min=\"0\"\n                    max={maxScore}\n                    value={player1Score}\n                    onChange={(e) => setPlayer1Score(parseInt(e.target.value) || 0)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n                  />\n                </div>\n              )}\n            </div>\n\n            {/* Player 2 */}\n            <div>\n              <label htmlFor=\"player2\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                –ì—Ä–∞–≤–µ—Ü—å 2\n              </label>\n              <div className=\"relative player-search-container\">\n                <input\n                  onChange={(e) => {\n                    setPlayer2Search(e.target.value);\n                    setShowPlayer2Dropdown(true);\n                    if (!e.target.value) {\n                      setPlayer2Id('');\n                    }\n                  }}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n                  placeholder=\"–ü–æ—à—É–∫ –≥—Ä–∞–≤—Ü—è 2\"\n                  required\n                />\n                {showPlayer2Dropdown && (\n                  <div className=\"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-60 overflow-auto\">\n                    {filterPlayers(player2Search).filter(player => player.id !== player1Id).length === 0 ? (\n                      <div className=\"px-4 py-2 text-gray-500 text-sm\">\n                        –ì—Ä–∞–≤—Ü—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ\n                      </div>\n                    ) : (\n                      filterPlayers(player2Search).filter(player => player.id !== player1Id).map(player => (\n                        <div\n                          key={player.id}\n                          onClick={() => handlePlayer2Select(player)}\n                          className=\"cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-blue-600 hover:text-white\"\n                        >\n                          <div className=\"flex items-center\">\n                            <div className=\"text-sm font-medium\">\n                              {player.name}\n                            </div>\n                            <div className=\"text-xs text-gray-400 ml-2\">\n                              {player.rating}\n                            </div>\n                          </div>\n                          <div className=\"absolute inset-y-0 right-0 flex items-center pr-4\">\n                            <span className=\"text-blue-600 text-xs font-semibold\">\n                              –û–±—Ä–∞–Ω–æ\n                            </span>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                )}\n              </div>\n              {player2Id && (\n                <div className=\"mt-2\">\n                  <label htmlFor=\"player2Score\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    –†–∞—Ö—É–Ω–æ–∫ –≥—Ä–∞–≤—Ü—è 2\n                  </label>\n                  <input\n                    type=\"number\"\n                    id=\"player2Score\"\n                    min=\"0\"\n                    max={maxScore}\n                    value={player2Score}\n                    onChange={(e) => setPlayer2Score(parseInt(e.target.value) || 0)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Winner Selection */}\n          {player1Id && player2Id && (\n            <div>\n              <label htmlFor=\"winner\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                –ü–µ—Ä–µ–º–æ–∂–µ—Ü—å (—Ö—Ç–æ –Ω–∞–±—Ä–∞–≤ {maxScore} –æ—á–æ–∫)\n              </label>\n              <select\n                id=\"winner\"\n                value={winnerId}\n                onChange={(e) => {\n                  setWinnerId(e.target.value);\n                  if (e.target.value === player1Id) {\n                    setPlayer1Score(maxScore);\n                    setPlayer2Score(Math.max(0, maxScore - 2));\n                  } else if (e.target.value === player2Id) {\n                    setPlayer2Score(maxScore);\n                    setPlayer1Score(Math.max(0, maxScore - 2));\n                  }\n                }}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n                required\n              >\n                <option value=\"\">–û–±–µ—Ä—ñ—Ç—å –ø–µ—Ä–µ–º–æ–∂—Ü—è</option>\n                {[player1Id, player2Id].map(id => {\n                  const player = state.players.find(p => p.id === id);\n                  return player ? (\n                    <option key={player.id} value={player.id}>\n                      {player.name}\n                    </option>\n                  ) : null;\n                })}\n              </select>\n            </div>\n          )}\n\n          {/* Score Preview */}\n          {player1Id && player2Id && winnerId && (\n            <div className=\"bg-gray-50 p-4 rounded-md\">\n              <h3 className=\"text-sm font-medium text-gray-900 mb-2\">–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ –º–∞—Ç—á—É:</h3>\n              <div className=\"flex items-center justify-center space-x-4\">\n                <div className=\"text-center\">\n                  <div className=\"font-semibold\">\n                    {state.players.find(p => p.id === player1Id)?.name}\n                  </div>\n                  <div className={`text-2xl font-bold ${winnerId === player1Id ? 'text-green-600' : 'text-red-600'}`}>\n                    {player1Score}\n                  </div>\n                </div>\n                <div className=\"text-gray-400\">:</div>\n                <div className=\"text-center\">\n                  <div className=\"font-semibold\">\n                    {state.players.find(p => p.id === player2Id)?.name}\n                  </div>\n                  <div className={`text-2xl font-bold ${winnerId === player2Id ? 'text-green-600' : 'text-red-600'}`}>\n                    {player2Score}\n                  </div>\n                </div>\n              </div>\n              <div className=\"text-center text-sm text-gray-600 mt-2\">\n                –ì—Ä–∞ –¥–æ {maxScore} –æ—á–æ–∫\n              </div>\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={!player1Id || !player2Id || !winnerId || player1Score < 0 || player2Score < 0}\n            className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            –î–æ–¥–∞—Ç–∏ –º–∞—Ç—á –∑ —Ä–∞—Ö—É–Ω–∫–æ–º {player1Score}:{player2Score}\n          </button>\n        </form>\n      </div>\n\n      {/* Advanced Rating System Info */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <button\n          onClick={handleImportMatches}\n          className={`w-full px-4 py-2 rounded-md transition-colors flex items-center justify-center gap-2 mb-4 ${\n            importing\n              ? 'bg-gray-200 text-gray-600 cursor-not-allowed'\n              : 'bg-emerald-600 text-white hover:bg-emerald-700'\n          }`}\n          disabled={importing}\n        >\n          {importing ? (\n            <>\n              <span className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n              <span>–Ü–º–ø–æ—Ä—Ç...</span>\n            </>\n          ) : (\n            <span>‚¨áÔ∏è –Ü–º–ø–æ—Ä—Ç CSV</span>\n          )}\n        </button>\n\n        {importMessage && (\n          <div className={`p-3 rounded-md mb-4 ${\n            importMessage.includes('—É—Å–ø—ñ—à–Ω–∏–π') || importMessage.includes('‚úÖ')\n              ? 'bg-green-100 text-green-800 border border-green-200'\n              : 'bg-red-100 text-red-800 border border-red-200'\n          }`}>\n            <pre className=\"text-sm whitespace-pre-wrap\">{importMessage}</pre>\n          </div>\n        )}\n        \n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">üéØ –†–æ–∑—à–∏—Ä–µ–Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ v3.1.1</h2>\n        \n        <div className=\"space-y-3 text-sm text-gray-700\">\n          <p>\n            <strong>–°–∏—Å—Ç–µ–º–∞ –≤—Ä–∞—Ö–æ–≤—É—î:</strong>\n          </p>\n          <ul className=\"list-disc list-inside space-y-1 ml-4\">\n            <li><strong>–†–∞—Ö—É–Ω–æ–∫ –º–∞—Ç—á—É</strong> - —á–∏–º –±–ª–∏–∂—á–∏–π —Ä–∞—Ö—É–Ω–æ–∫, —Ç—ñ–º –º–µ–Ω—à–∞ –∑–º—ñ–Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥—É</li>\n            <li><strong>–Ø–∫—ñ—Å—Ç—å –≥—Ä–∏ –ø—Ä–æ–≥—Ä–∞–≤—à–æ–≥–æ</strong> - —è–∫—â–æ –ø—Ä–æ–≥—Ä–∞–≤, –∞–ª–µ –∑—ñ–≥—Ä–∞–≤ –∫—Ä–∞—â–µ –∑–∞ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è, –≤—Ç—Ä–∞—Ç–∏—Ç—å –º–µ–Ω—à–µ —Ä–µ–π—Ç–∏–Ω–≥—É</li>\n            <li><strong>–§–∞–∫—Ç–æ—Ä –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–∫–∏</strong> - –ø–µ—Ä–µ–º–æ–≥–∞ –Ω–∞–¥ —Å–∏–ª—å–Ω—ñ—à–∏–º –≥—Ä–∞–≤—Ü–µ–º –¥–∞—î –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–µ –æ—á–æ–∫</li>\n            <li><strong>–ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π K-—Ñ–∞–∫—Ç–æ—Ä</strong> - –±—ñ–ª—å—à–∞ –∑–º—ñ–Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥—É –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π —Ä—ñ–∑–Ω–∏—Ü—ñ –≤ —Å–∏–ª—ñ –≥—Ä–∞–≤—Ü—ñ–≤</li>\n            <li><strong>–ï–ª—ñ—Ç–Ω–∏–π —à–∞—Ä 1500+</strong> - —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –ª–æ–≥—ñ–∫–∞ –¥–ª—è —Ç–æ–ø-–≥—Ä–∞–≤—Ü—ñ–≤ –∑ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∏–º–∏ –±–æ–Ω—É—Å–∞–º–∏</li>\n            <li><strong>üî• –í–ê–ì–ò –ú–ê–¢–ß–Ü–í</strong> - —Ñ—ñ–Ω–∞–ª–∏ –¥–∞—é—Ç—å –±—ñ–ª—å—à–µ —Ä–µ–π—Ç–∏–Ω–≥—É! (group √ó1.0 ‚Üí final √ó1.7)</li>\n            <li><strong>üìä –ü–†–û–ì–†–ï–°–ò–í–ù–ò–ô –ë–ê–õ–ê–ù–°</strong> - –Ω–æ–≤–∞—á–∫–∏ –ø–∞–¥–∞—é—Ç—å –¥–æ 950, —ñ–Ω—Ñ–ª—è—Ü—ñ—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è 1000</li>\n          </ul>\n          \n          <div className=\"bg-blue-50 p-3 rounded-md mt-4\">\n            <p className=\"text-blue-800\">\n              <strong>–ü—Ä–∏–∫–ª–∞–¥:</strong> –ì—Ä–∞–≤–µ—Ü—å 1600 –≤–∏–≥—Ä–∞–≤ 5:2 –≤ –≥—Ä—É–ø–æ–≤–æ–º—É –µ—Ç–∞–ø—ñ - –æ—Ç—Ä–∏–º–∞—î +25 —Ä–µ–π—Ç–∏–Ω–≥—É<br/>\n              <strong>–§—ñ–Ω–∞–ª:</strong> –¢–æ–π —Å–∞–º–∏–π –º–∞—Ç—á —É —Ñ—ñ–Ω–∞–ª—ñ - –æ—Ç—Ä–∏–º–∞—î +42 —Ä–µ–π—Ç–∏–Ω–≥—É (√ó1.7)!<br/>\n              <strong>–ë–∞–ª–∞–Ω—Å:</strong> –ö–∞–ø —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤ —Ä–æ—Å—Ç–µ –∑–∞ —Ä–∞—Ö—É–Ω–æ–∫ —Ç–æ–ø—ñ–≤ —ñ —Å–µ—Ä–µ–¥–Ω—å–æ—ó –∑–æ–Ω–∏ (—ñ–Ω—Ñ–ª—è—Ü—ñ—è 0.5-2%)\n            </p>\n          </div>\n          \n          <div className=\"bg-green-50 p-3 rounded-md mt-2\">\n            <p className=\"text-green-800\">\n              <strong>–ì–Ω—É—á–∫—ñ—Å—Ç—å:</strong> –¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞ –≥—Ä–∞—Ç–∏ –¥–æ –±—É–¥—å-—è–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –æ—á–æ–∫ –≤—ñ–¥ 1 –¥–æ 10!\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Random Match Simulation */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">–°–∏–º—É–ª—è—Ü—ñ—è –º–∞—Ç—á—ñ–≤</h2>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"matchCount\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –º–∞—Ç—á—ñ–≤\n            </label>\n            <input\n              type=\"number\"\n              id=\"matchCount\"\n              min=\"1\"\n              max=\"1000\"\n              value={randomMatchCount}\n              onChange={(e) => setRandomMatchCount(parseInt(e.target.value) || 1)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n            />\n          </div>\n\n          <button\n            onClick={handleSimulateRandomMatches}\n            disabled={isSimulating}\n            className=\"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {isSimulating ? '–°–∏–º—É–ª—è—Ü—ñ—è...' : `–°–∏–º—É–ª—é–≤–∞—Ç–∏ ${randomMatchCount} –º–∞—Ç—á—ñ–≤`}\n          </button>\n        </div>\n      </div>\n\n      {/* Statistics */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>\n        \n        {/* Rating Cap Stats - –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Å–∏–º—É–ª—è—Ü—ñ—ó */}\n        {ratingCapBefore !== null && ratingCapAfter !== null && (\n          <div className=\"mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border-2 border-blue-200\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-3\">üìä –ö–∞–ø —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤ (–∑–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞)</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"text-center\">\n                <div className=\"text-sm text-gray-600 mb-1\">–î–æ —Å–∏–º—É–ª—è—Ü—ñ—ó</div>\n                <div className=\"text-2xl font-bold text-blue-600\">{ratingCapBefore.toLocaleString()}</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-sm text-gray-600 mb-1\">–ü—ñ—Å–ª—è —Å–∏–º—É–ª—è—Ü—ñ—ó</div>\n                <div className=\"text-2xl font-bold text-purple-600\">{ratingCapAfter.toLocaleString()}</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-sm text-gray-600 mb-1\">–ó–º—ñ–Ω–∞ (—ñ–Ω—Ñ–ª—è—Ü—ñ—è/–¥–µ—Ñ–ª—è—Ü—ñ—è)</div>\n                <div className={`text-2xl font-bold ${\n                  ratingCapAfter > ratingCapBefore ? 'text-green-600' : \n                  ratingCapAfter < ratingCapBefore ? 'text-red-600' : \n                  'text-gray-600'\n                }`}>\n                  {ratingCapAfter > ratingCapBefore ? '+' : ''}\n                  {(ratingCapAfter - ratingCapBefore).toLocaleString()}\n                  <span className=\"text-sm ml-2\">\n                    ({((ratingCapAfter - ratingCapBefore) / ratingCapBefore * 100).toFixed(2)}%)\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-blue-600\">{state.players.length}</div>\n            <div className=\"text-sm text-gray-600\">–ì—Ä–∞–≤—Ü—ñ–≤</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-green-600\">{state.matches.length}</div>\n            <div className=\"text-sm text-gray-600\">–ú–∞—Ç—á—ñ–≤</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-purple-600\">\n              {state.players.length > 0 ? Math.max(...state.players.map(p => p.rating)) : 0}\n            </div>\n            <div className=\"text-sm text-gray-600\">–ú–∞–∫—Å —Ä–µ–π—Ç–∏–Ω–≥</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-orange-600\">\n              {state.players.length > 0 ? Math.min(...state.players.map(p => p.rating)) : 0}\n            </div>\n            <div className=\"text-sm text-gray-600\">–ú—ñ–Ω —Ä–µ–π—Ç–∏–Ω–≥</div>\n          </div>\n        </div>\n\n        {/* Data Management */}\n        <div className=\"space-y-3\">\n          {/* –ó–ê–ö–û–ú–ï–ù–¢–û–í–ê–ù–û - –≥—Ä–∞–≤—Ü—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —á–µ—Ä–µ–∑ —ñ–º–ø–æ—Ä—Ç */}\n          {/* <button\n            onClick={handleLoadRealPlayers}\n            className=\"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors\"\n          >\n            üéØ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ–∞–ª—å–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ (115 –æ—Å—ñ–±)\n          </button> */}\n          \n          <button\n            onClick={handleResetData}\n            className=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors\"\n          >\n            üîÑ –°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3584, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/components/TournamentView.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useTournaments } from '@/context/TournamentContext';\nimport { useApp } from '@/context/AppContext';\nimport Link from 'next/link';\n\nexport default function TournamentView() {\n  const { tournaments, loading, error, deleteTournament, createTournament } = useTournaments();\n  const { role, isAuthenticated } = useAuth();\n  const { state } = useApp();\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [selectedPlayers, setSelectedPlayers] = useState<string[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [suggestedBracketSize, setSuggestedBracketSize] = useState(32);\n  const [stageRules, setStageRules] = useState({\n    upper: 5,\n    lower: 5,\n    quarter: 6,\n    semi: 7,\n    final: 9\n  });\n\n  const players = state.players || [];\n  \n  // Debug: –ø–æ–∫–∞–∑–∞—Ç–∏ —Å–∫—ñ–ª—å–∫–∏ –≥—Ä–∞–≤—Ü—ñ–≤ —î\n  console.log('TournamentView players count:', players.length, 'loading:', state.loading);\n\n  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ä–æ–∑–º—ñ—Ä—É —Å—ñ—Ç–∫–∏ –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –≥—Ä–∞–≤—Ü—ñ–≤\n  useEffect(() => {\n    if (selectedPlayers.length > 0) {\n      const nextPowerOf2 = Math.pow(2, Math.ceil(Math.log2(selectedPlayers.length)));\n      setSuggestedBracketSize(nextPowerOf2);\n    }\n  }, [selectedPlayers.length]);\n\n  // Handle delete tournament\n  const handleDeleteTournament = async (id: number) => {\n    if (!confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π —Ç—É—Ä–Ω—ñ—Ä?')) {\n      return;\n    }\n\n    try {\n      await deleteTournament(id);\n    } catch (err) {\n      alert(err instanceof Error ? err.message : '–ù–µ –≤–¥–∞–ª–æ—Å—è –≤–∏–¥–∞–ª–∏—Ç–∏ —Ç—É—Ä–Ω—ñ—Ä');\n    }\n  };\n\n  // Handle create tournament\n  const handleCreateTournament = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    \n    if (selectedPlayers.length < 2) {\n      alert('–ü–æ—Ç—Ä—ñ–±–Ω–æ –º—ñ–Ω—ñ–º—É–º 2 –≥—Ä–∞–≤—Ü—ñ –¥–ª—è —Ç—É—Ä–Ω—ñ—Ä—É');\n      return;\n    }\n    \n    const upperBracketSize = parseInt(formData.get('upper_bracket_size') as string);\n    const olympicSize = parseInt(formData.get('olympic_size') as string);\n    \n    try {\n      await createTournament({\n        name: formData.get('name') as string,\n        description: formData.get('description') as string || '',\n        player_ids: selectedPlayers,\n        upper_bracket_size: upperBracketSize,\n        olympic_size: olympicSize,\n        stage_rules: stageRules,\n      });\n      setShowCreateModal(false);\n      setSelectedPlayers([]);\n    } catch (err) {\n      alert(err instanceof Error ? err.message : '–ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—É—Ä–Ω—ñ—Ä');\n    }\n  };\n\n  // Toggle player selection\n  const togglePlayer = (playerId: string) => {\n    setSelectedPlayers(prev => \n      prev.includes(playerId) \n        ? prev.filter(id => id !== playerId)\n        : [...prev, playerId]\n    );\n  };\n\n  if (loading) {\n    return <div className=\"text-center py-8\">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>;\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-red-600\">–ü–æ–º–∏–ª–∫–∞: {error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">üèÜ –¢—É—Ä–Ω—ñ—Ä–∏</h1>\n        {isAuthenticated && role === 'admin' && (\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold\"\n          >\n            ‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—É—Ä–Ω—ñ—Ä\n          </button>\n        )}\n      </div>\n\n      {/* Tournament List */}\n      {tournaments.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-md p-8 text-center\">\n          <p className=\"text-gray-600 mb-4\">–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î —Ç—É—Ä–Ω—ñ—Ä—ñ–≤</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {tournaments.map(tournament => (\n            <div\n              key={tournament.id}\n              className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow\"\n            >\n              <div className=\"flex justify-between items-start mb-3\">\n                <h3 className=\"text-xl font-bold text-gray-900\">{tournament.name}</h3>\n                <span className={`px-2 py-1 text-xs rounded-full ${\n                  tournament.status === 'completed' ? 'bg-green-100 text-green-800' :\n                  tournament.status === 'active' ? 'bg-blue-100 text-blue-800' :\n                  'bg-gray-100 text-gray-800'\n                }`}>\n                  {tournament.status === 'completed' ? '–ó–∞–≤–µ—Ä—à–µ–Ω–æ' :\n                   tournament.status === 'active' ? '–ê–∫—Ç–∏–≤–Ω–∏–π' : '–ß–µ—Ä–Ω–µ—Ç–∫–∞'}\n                </span>\n              </div>\n\n              {tournament.description && (\n                <p className=\"text-sm text-gray-600 mb-3\">{tournament.description}</p>\n              )}\n\n              <div className=\"space-y-2 text-sm text-gray-700\">\n                <div className=\"flex justify-between\">\n                  <span>–§–æ—Ä–º–∞—Ç:</span>\n                  <span className=\"font-semibold\">{tournament.upper_bracket_size} ‚Üí {tournament.olympic_size}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>–î–æ:</span>\n                  <span className=\"font-semibold\">{tournament.max_score} –æ—á–æ–∫</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>–°—Ç–≤–æ—Ä–µ–Ω–æ:</span>\n                  <span className=\"font-semibold\">{new Date(tournament.created_at).toLocaleDateString('uk-UA')}</span>\n                </div>\n              </div>\n\n              <div className=\"mt-4 pt-4 border-t border-gray-200 flex gap-2\">\n                <Link\n                  href={`/tournaments/${tournament.id}`}\n                  className=\"flex-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 text-center\"\n                >\n                  –í—ñ–¥–∫—Ä–∏—Ç–∏\n                </Link>\n                {/* –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¢–Ü–õ–¨–ö–ò –¥–ª—è admin (—Ç—Ä–µ–±–∞ –±—É—Ç–∏ –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–∏–º) */}\n                {isAuthenticated && role === 'admin' && (\n                  <button\n                    onClick={() => handleDeleteTournament(tournament.id)}\n                    className=\"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700\"\n                  >\n                    –í–∏–¥–∞–ª–∏—Ç–∏\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Create Tournament Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Ç—É—Ä–Ω—ñ—Ä</h2>\n            \n            <form onSubmit={handleCreateTournament} className=\"space-y-6\">\n              {/* Tournament Info */}\n              <div className=\"bg-gray-50 rounded-lg p-4 space-y-4\">\n                <h3 className=\"font-semibold text-gray-900\">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ç—É—Ä–Ω—ñ—Ä</h3>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-900 mb-1\">\n                    –ù–∞–∑–≤–∞ —Ç—É—Ä–Ω—ñ—Ä—É *\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    required\n                    placeholder=\"–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ó–∏–º–æ–≤–∏–π —Ç—É—Ä–Ω—ñ—Ä 2025\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder-gray-400\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-900 mb-1\">\n                    –û–ø–∏—Å (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)\n                  </label>\n                  <textarea\n                    name=\"description\"\n                    rows={2}\n                    placeholder=\"–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å —Ç—É—Ä–Ω—ñ—Ä—É...\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder-gray-400\"\n                  />\n                </div>\n              </div>\n\n              {/* Tournament Format */}\n              <div className=\"bg-gray-50 rounded-lg p-4 space-y-4\">\n                <h3 className=\"font-semibold text-gray-900\">–§–æ—Ä–º–∞—Ç —Ç—É—Ä–Ω—ñ—Ä—É</h3>\n                \n                {selectedPlayers.length > 0 && (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded p-3 text-sm\">\n                    <p className=\"text-blue-900\">\n                      ‚ÑπÔ∏è –û–±—Ä–∞–Ω–æ {selectedPlayers.length} –≥—Ä–∞–≤—Ü—ñ–≤. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ —Å—ñ—Ç–∫–∞: <strong>{suggestedBracketSize}</strong> \n                      {suggestedBracketSize > selectedPlayers.length && \n                        ` (+ ${suggestedBracketSize - selectedPlayers.length} walk-over)`}\n                    </p>\n                  </div>\n                )}\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-900 mb-1\">\n                      –†–æ–∑–º—ñ—Ä Upper Bracket\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"upper_bracket_size\"\n                      required\n                      min=\"2\"\n                      max=\"128\"\n                      value={suggestedBracketSize}\n                      onChange={(e) => setSuggestedBracketSize(parseInt(e.target.value))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-gray-900\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-900 mb-1\">\n                      –†–æ–∑–º—ñ—Ä Olympic Bracket\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"olympic_size\"\n                      required\n                      min=\"2\"\n                      max=\"64\"\n                      defaultValue=\"16\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-gray-900\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Stage Rules */}\n              <div className=\"bg-gray-50 rounded-lg p-4 space-y-4\">\n                <h3 className=\"font-semibold text-gray-900\">–ü—Ä–∞–≤–∏–ª–∞ –µ—Ç–∞–ø—ñ–≤ (–¥–æ —Å–∫—ñ–ª—å–∫–æ—Ö –ø–∞—Ä—Ç—ñ–π)</h3>\n                \n                <div className=\"grid grid-cols-3 gap-3\">\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-1\">Upper Bracket</label>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"100\"\n                      value={stageRules.upper}\n                      onChange={(e) => setStageRules({...stageRules, upper: parseInt(e.target.value)})}\n                      className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-gray-900\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-1\">Lower Bracket</label>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"100\"\n                      value={stageRules.lower}\n                      onChange={(e) => setStageRules({...stageRules, lower: parseInt(e.target.value)})}\n                      className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-gray-900\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-1\">1/4 –§—ñ–Ω–∞–ª—É</label>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"100\"\n                      value={stageRules.quarter}\n                      onChange={(e) => setStageRules({...stageRules, quarter: parseInt(e.target.value)})}\n                      className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-gray-900\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-1\">–ü—ñ–≤—Ñ—ñ–Ω–∞–ª—É</label>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"100\"\n                      value={stageRules.semi}\n                      onChange={(e) => setStageRules({...stageRules, semi: parseInt(e.target.value)})}\n                      className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-gray-900\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-1\">–§—ñ–Ω–∞–ª—É</label>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"100\"\n                      value={stageRules.final}\n                      onChange={(e) => setStageRules({...stageRules, final: parseInt(e.target.value)})}\n                      className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-gray-900\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Player Selection */}\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <div className=\"flex justify-between items-center mb-3\">\n                  <h3 className=\"font-semibold text-gray-900\">\n                    –£—á–∞—Å–Ω–∏–∫–∏ —Ç—É—Ä–Ω—ñ—Ä—É ({selectedPlayers.length} –æ–±—Ä–∞–Ω–æ)\n                  </h3>\n                  {selectedPlayers.length > 0 && (\n                    <button\n                      type=\"button\"\n                      onClick={() => setSelectedPlayers([])}\n                      className=\"text-sm text-red-600 hover:text-red-700\"\n                    >\n                      –û—á–∏—Å—Ç–∏—Ç–∏\n                    </button>\n                  )}\n                </div>\n\n                {/* Search */}\n                <div className=\"mb-3\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"üîç –®—É–∫–∞—Ç–∏ –≥—Ä–∞–≤—Ü—è...\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder-gray-400\"\n                  />\n                </div>\n                \n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-64 overflow-y-auto border border-gray-200 rounded p-3 bg-white\">\n                  {!players || players.length === 0 ? (\n                    <p className=\"text-gray-500 text-sm col-span-full text-center py-4\">\n                      –ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤\n                    </p>\n                  ) : (\n                    players\n                      .filter(player => \n                        player.name.toLowerCase().includes(searchQuery.toLowerCase())\n                      )\n                      .sort((a, b) => b.rating - a.rating)\n                      .map(player => (\n                        <label\n                          key={player.id}\n                          className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\n                            selectedPlayers.includes(player.id)\n                              ? 'bg-blue-50 border border-blue-300'\n                              : 'hover:bg-gray-50 border border-transparent'\n                          }`}\n                        >\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedPlayers.includes(player.id)}\n                            onChange={() => togglePlayer(player.id)}\n                            className=\"w-4 h-4 text-blue-600 rounded\"\n                          />\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-sm font-medium text-gray-900 truncate\">\n                              {player.name}\n                            </p>\n                            <p className=\"text-xs text-gray-500\">\n                              {Math.round(player.rating)}\n                            </p>\n                          </div>\n                        </label>\n                      ))\n                  )}\n                </div>\n                \n                {selectedPlayers.length > 0 && (\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    üí° –û–±—Ä–∞–Ω—ñ –≥—Ä–∞–≤—Ü—ñ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –¥–æ —Ç—É—Ä–Ω—ñ—Ä—É –ø—ñ—Å–ª—è –π–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è\n                  </p>\n                )}\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex gap-3 pt-4 border-t\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowCreateModal(false);\n                    setSelectedPlayers([]);\n                  }}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n                >\n                  –°–∫–∞—Å—É–≤–∞—Ç–∏\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={selectedPlayers.length < 2}\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed\"\n                >\n                  –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—É—Ä–Ω—ñ—Ä {selectedPlayers.length < 2 && `(–ø–æ—Ç—Ä—ñ–±–Ω–æ —â–µ ${2 - selectedPlayers.length})`}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4483, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { fetchPlayers, fetchMatches } from '@/lib/api';\nimport Leaderboard from '@/components/Leaderboard';\nimport MatchSimulator from '@/components/MatchSimulator';\nimport TournamentView from '@/components/TournamentView';\nimport type { Player, Match } from '@/types';\n\nexport default function Home() {\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [matches, setMatches] = useState<Match[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState<'leaderboard' | 'simulator' | 'tournaments'>('leaderboard');\n\n  useEffect(() => {\n    async function loadData() {\n      try {\n        const [playersData, matchesData] = await Promise.all([\n          fetchPlayers(),\n          fetchMatches()\n        ]);\n        setPlayers(playersData);\n        setMatches(matchesData);\n      } catch (err: any) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadData();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n        <div className=\"bg-white rounded-lg shadow-lg p-8 flex items-center space-x-4\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <span className=\"text-lg\">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n        <div className=\"bg-white rounded-lg shadow-lg p-8 text-center max-w-md\">\n          <div className=\"text-red-500 mb-4\">\n            <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-xl font-bold text-gray-900 mb-2\">–ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è</h2>\n          <p className=\"text-gray-600 mb-4\">{error}</p>\n          <p className=\"text-sm text-gray-500\">–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ backend –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ http://localhost:8000</p>\n          <button \n            onClick={() => window.location.reload()} \n            className=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n          >\n            –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      {/* Header */}\n      <header className=\"bg-white shadow-md\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              üé± –†–µ–π—Ç–∏–Ω–≥ –ë—ñ–ª—å—è—Ä–¥—É\n            </h1>\n            \n            {/* Navigation tabs */}\n            <nav className=\"flex space-x-4\">\n              <button\n                onClick={() => setActiveTab('leaderboard')}\n                className={`px-4 py-2 rounded-md font-medium transition-colors ${\n                  activeTab === 'leaderboard'\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n                }`}\n              >\n                –†–µ–π—Ç–∏–Ω–≥\n              </button>\n              <button\n                onClick={() => setActiveTab('simulator')}\n                className={`px-4 py-2 rounded-md font-medium transition-colors ${\n                  activeTab === 'simulator'\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n                }`}\n              >\n                –ú–∞—Ç—á—ñ\n              </button>\n              <button\n                onClick={() => setActiveTab('tournaments')}\n                className={`px-4 py-2 rounded-md font-medium transition-colors ${\n                  activeTab === 'tournaments'\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n                }`}\n              >\n                –¢—É—Ä–Ω—ñ—Ä–∏\n              </button>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      {/* Main content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {activeTab === 'leaderboard' && <Leaderboard players={players} matches={matches} />}\n        {activeTab === 'simulator' && <MatchSimulator players={players} onMatchAdded={async () => {\n          const [playersData, matchesData] = await Promise.all([fetchPlayers(), fetchMatches()]);\n          setPlayers(playersData);\n          setMatches(matchesData);\n        }} />}\n        {activeTab === 'tournaments' && <TournamentView matches={matches} players={players} />}\n      </main>\n\n      {/* Footer */}\n      <footer className=\"bg-white border-t mt-12\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"text-center text-gray-600\">\n            <p>¬© 2024 –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≥—Ä–∞–≤—Ü—ñ–≤ —É –±—ñ–ª—å—è—Ä–¥</p>\n            <p className=\"text-sm mt-2\">\n              –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ ELO –∑ –∫–æ–ª—å–æ—Ä–æ–≤–æ—é —Å—Ö–µ–º–æ—é —è–∫ —É Codeforces\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}