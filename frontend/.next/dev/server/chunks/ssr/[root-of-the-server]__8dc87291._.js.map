{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/components/MatchHistory.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { Match, Player } from '@/types';\nimport { getRatingBand } from '@/utils/rating';\n\ninterface MatchHistoryProps {\n  matches: Match[];\n  players: Player[];\n  playerId?: string; // If provided, highlights matches for specific player\n  limit?: number;\n  disableSorting?: boolean; // If true, doesn't sort matches (uses provided order)\n}\n\nexport default function MatchHistory({ matches, players, playerId, limit, disableSorting = false }: MatchHistoryProps) {\n  const getPlayerById = (id: string) => players.find(p => p.id === id);\n  \n  // Sort matches by date (newest first), then by sequenceIndex descending (for matches on same date, newest processing first)\n  const sortedMatches = disableSorting ? matches : [...matches].sort((a, b) => {\n    const dateCompare = new Date(b.date).getTime() - new Date(a.date).getTime();\n    if (dateCompare !== 0) return dateCompare;\n    // If dates are the same, sort by sequenceIndex descending (so most recent processing appears first)\n    return (b.sequenceIndex ?? -Infinity) - (a.sequenceIndex ?? -Infinity);\n  });\n\n  // Apply limit if provided\n  const displayedMatches = limit ? sortedMatches.slice(0, limit) : sortedMatches;\n\n  if (displayedMatches.length === 0) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-md p-8 text-center\">\n        <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n        </svg>\n        <h3 className=\"mt-2 text-lg font-medium text-gray-900\">–ú–∞—Ç—á—ñ–≤ –ø–æ–∫–∏ –Ω–µ–º–∞—î</h3>\n        <p className=\"mt-1 text-gray-500\">–Ü—Å—Ç–æ—Ä—ñ—è –º–∞—Ç—á—ñ–≤ –∑'—è–≤–∏—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ—ó –≥—Ä–∏</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {displayedMatches.map((match) => {\n        const player1 = getPlayerById(match.player1Id);\n        const player2 = getPlayerById(match.player2Id);\n        \n        if (!player1 || !player2) return null;\n\n        const winner = match.winnerId === player1.id ? player1 : player2;\n        const loser = match.winnerId === player1.id ? player2 : player1;\n        \n        const player1IsTarget = playerId === player1.id;\n        const player2IsTarget = playerId === player2.id;\n        const isTargetPlayerMatch = player1IsTarget || player2IsTarget;\n\n        return (\n          <div \n            key={match.id}\n            className={`bg-white rounded-lg shadow-md p-4 border-l-4 ${\n              isTargetPlayerMatch \n                ? match.winnerId === playerId \n                  ? 'border-green-500 bg-green-50' \n                  : 'border-red-500 bg-red-50'\n                : 'border-gray-300'\n            }`}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1\">\n                <div className=\"flex items-center space-x-4\">\n                  {/* Player 1 */}\n                  <div className={`flex-1 ${player1IsTarget ? 'font-semibold' : ''}`}>\n                    <Link \n                      href={`/player/${player1.id}`}\n                      className={`${getRatingBand(match.player1RatingBefore).textColor} hover:opacity-80 transition-colors`}\n                    >\n                      {player1.name}\n                    </Link>\n                    <div className=\"flex items-center space-x-2 mt-1\">\n                      <span className={getRatingBand(match.player1RatingBefore).textColor}>\n                        {match.player1RatingBefore}\n                      </span>\n                      <span className=\"text-gray-400\">‚Üí</span>\n                      <span className={getRatingBand(match.player1RatingAfter).textColor}>\n                        {match.player1RatingAfter}\n                      </span>\n                      <span className={`text-sm ${\n                        match.player1RatingChange > 0 \n                          ? 'text-green-600' \n                          : match.player1RatingChange < 0 \n                            ? 'text-red-600' \n                            : 'text-gray-600'\n                      }`}>\n                        ({match.player1RatingChange > 0 ? '+' : ''}{match.player1RatingChange})\n                      </span>\n                      {/* Rank change notification for Player 1 */}\n                      {getRatingBand(match.player1RatingBefore).name !== getRatingBand(match.player1RatingAfter).name && (\n                        <span className={`text-xs font-semibold px-2 py-1 rounded ${getRatingBand(match.player1RatingAfter).color} text-white`}>\n                          –ù–æ–≤–µ –∑–≤–∞–Ω–Ω—è: {getRatingBand(match.player1RatingAfter).name}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Score */}\n                  <div className=\"text-center\">\n                    <div className=\"text-lg font-bold text-gray-900\">\n                      {match.player1Score} : {match.player2Score}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">\n                      –¥–æ {match.maxScore}\n                    </div>\n                  </div>\n\n                  {/* Player 2 */}\n                  <div className={`flex-1 text-right ${player2IsTarget ? 'font-semibold' : ''}`}>\n                    <Link \n                      href={`/player/${player2.id}`}\n                      className={`${getRatingBand(match.player2RatingBefore).textColor} hover:opacity-80 transition-colors`}\n                    >\n                      {player2.name}\n                    </Link>\n                    <div className=\"flex items-center justify-end space-x-2 mt-1\">\n                      {/* Rank change notification for Player 2 */}\n                      {getRatingBand(match.player2RatingBefore).name !== getRatingBand(match.player2RatingAfter).name && (\n                        <span className={`text-xs font-semibold px-2 py-1 rounded ${getRatingBand(match.player2RatingAfter).color} text-white`}>\n                          –ù–æ–≤–µ –∑–≤–∞–Ω–Ω—è: {getRatingBand(match.player2RatingAfter).name}\n                        </span>\n                      )}\n                      <span className={`text-sm ${\n                        match.player2RatingChange > 0 \n                          ? 'text-green-600' \n                          : match.player2RatingChange < 0 \n                            ? 'text-red-600' \n                            : 'text-gray-600'\n                      }`}>\n                        ({match.player2RatingChange > 0 ? '+' : ''}{match.player2RatingChange})\n                      </span>\n                      <span className={getRatingBand(match.player2RatingAfter).textColor}>\n                        {match.player2RatingAfter}\n                      </span>\n                      <span className=\"text-gray-400\">‚Üê</span>\n                      <span className={getRatingBand(match.player2RatingBefore).textColor}>\n                        {match.player2RatingBefore}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Winner indicator and tournament/date/stage info */}\n                <div className=\"mt-3 flex items-center justify-between\">\n                  <div className=\"flex flex-col space-y-1\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-sm text-gray-500\">–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å:</span>\n                      <Link \n                        href={`/player/${winner.id}`}\n                        className={`${getRatingBand(match.winnerId === player1.id ? match.player1RatingAfter : match.player2RatingAfter).textColor} font-semibold hover:opacity-80 transition-colors`}\n                      >\n                        {winner.name}\n                      </Link>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      {match.tournament && (\n                        <div className=\"text-xs text-gray-600\">\n                          üìå {match.tournament}\n                        </div>\n                      )}\n                      {match.stage && (\n                        <div className={`text-xs font-semibold px-2 py-0.5 rounded ${\n                          match.stage === 'final' ? 'bg-yellow-100 text-yellow-800' :\n                          match.stage === 'semifinal' ? 'bg-orange-100 text-orange-800' :\n                          match.stage === 'quarterfinal' ? 'bg-purple-100 text-purple-800' :\n                          match.stage === 'round16' ? 'bg-blue-100 text-blue-800' :\n                          'bg-gray-100 text-gray-800'\n                        }`}>\n                          {match.stage === 'final' ? 'üèÜ –§—ñ–Ω–∞–ª' :\n                           match.stage === 'semifinal' ? 'ü•à –ü—ñ–≤—Ñ—ñ–Ω–∞–ª' :\n                           match.stage === 'quarterfinal' ? 'ü•â –ß–≤–µ—Ä—Ç—å—Ñ—ñ–Ω–∞–ª' :\n                           match.stage === 'round16' ? '‚öîÔ∏è 1/8' :\n                           `üìç ${match.stage}`}\n                          {match.matchWeight && match.matchWeight > 1.0 && ` √ó${match.matchWeight.toFixed(1)}`}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"text-sm text-gray-500\">\n                    {new Date(match.date).toLocaleDateString('uk-UA', {\n                      year: 'numeric',\n                      month: 'short',\n                      day: 'numeric',\n                      hour: '2-digit',\n                      minute: '2-digit'\n                    })}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/components/RatingChart.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Player, Match } from '@/types';\nimport { getRatingBand } from '@/utils/rating';\n\ninterface RatingPoint {\n  date: Date;\n  rating: number;\n  matchId?: string;\n  tournamentId?: string; // –î–æ–¥–∞–Ω–æ –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ç—É—Ä–Ω—ñ—Ä—ñ–≤\n  reason: 'match' | 'tournament' | 'initial';\n}\n\ninterface RatingChartProps {\n  player: Player;\n  matches: Match[];\n  players?: Player[]; // –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è –≤–∏–≤–æ–¥—É —ñ–º–µ–Ω —Å—É–ø–µ—Ä–Ω–∏–∫—ñ–≤ —É —Ç—É–ª—Ç–∏–ø—ñ\n  className?: string;\n}\n\n// –ö–æ–ª—å–æ—Ä–æ–≤—ñ –∑–æ–Ω–∏ —Ä–µ–π—Ç–∏–Ω–≥—É (—è–∫ –≤ Codeforces)\nconst RATING_BANDS = [\n  { min: 0, max: 1199, color: '#808080', name: 'Newbie' },\n  { min: 1200, max: 1399, color: '#008000', name: 'Pupil' },\n  { min: 1400, max: 1599, color: '#03A89E', name: 'Specialist' },\n  { min: 1600, max: 1799, color: '#0000FF', name: 'Expert' },\n  { min: 1800, max: 2299, color: '#AA00AA', name: 'Candidate Master' },\n  { min: 2300, max: 2499, color: '#FF8C00', name: 'Master' },\n  { min: 2500, max: 9999, color: '#FF0000', name: 'Grandmaster' },\n];\n\nexport default function RatingChart({ player, matches, players = [], className = '' }: RatingChartProps) {\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);\n  const [tooltipPos, setTooltipPos] = useState<{ x: number; y: number }>({ x: 0, y: 0 });\n  // –°—Ç–≤–æ—Ä—é—î–º–æ —ñ—Å—Ç–æ—Ä—ñ—é —Ä–µ–π—Ç–∏–Ω–≥—É\n  const createRatingHistory = (): RatingPoint[] => {\n    const history: RatingPoint[] = [];\n    \n    // –û—Ç—Ä–∏–º—É—î–º–æ –º–∞—Ç—á—ñ –≥—Ä–∞–≤—Ü—è —ñ —Å–æ—Ä—Ç—É—î–º–æ –ø–æ –¥–∞—Ç—ñ\n    const playerMatches = matches\n      .filter(match => match.player1Id === player.id || match.player2Id === player.id)\n      .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n\n    // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –ø—Ä–∏–≤'—è–∑—É—î–º–æ –¥–æ –ø–µ—Ä—à–æ—ó –¥–∞—Ç–∏, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —Ñ–∞–ª—å—à–∏–≤–æ–≥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä–æ–∫—É\n    const createdAtDate = player.createdAt ? new Date(player.createdAt) : null;\n    const firstMatchDate = playerMatches[0] ? new Date(playerMatches[0].date) : null;\n    const initialDate = createdAtDate && firstMatchDate\n      ? (createdAtDate <= firstMatchDate ? createdAtDate : firstMatchDate)\n      : (createdAtDate || firstMatchDate || new Date());\n\n    // üî• –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∫–∞–ª—ñ–±—Ä–æ–≤–∞–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —è–∫—â–æ —î, —ñ–Ω–∞–∫—à–µ 1300\n    const startingRating = player.initialRating ?? 1300;\n\n    history.push({\n      date: initialDate,\n      rating: startingRating, // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (–∫–∞–ª—ñ–±—Ä–æ–≤–∞–Ω–∏–π –∞–±–æ 1300)\n      reason: 'initial'\n    });\n\n    playerMatches.forEach(match => {\n      // –ë–µ—Ä–µ–º–æ —Ä–µ–π—Ç–∏–Ω–≥ –ø—ñ—Å–ª—è –º–∞—Ç—á—É –Ω–∞–ø—Ä—è–º—É –∑ –¥–∞–Ω–∏—Ö –º–∞—Ç—á—É (–Ω–µ –Ω–∞–∫–æ–ø–∏—á—É—î–º–æ –∑–º—ñ–Ω–∏)\n      const ratingAfter = match.player1Id === player.id ? match.player1RatingAfter : match.player2RatingAfter;\n      \n      history.push({\n        date: new Date(match.date),\n        rating: ratingAfter,\n        matchId: match.id,\n        reason: 'match'\n      });\n    });\n\n    // TODO: –î–æ–¥–∞—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ç—É—Ä–Ω—ñ—Ä—ñ–≤\n    // –í –º–∞–π–±—É—Ç–Ω—å–æ–º—É —Ç—É—Ç –º–æ–∂–Ω–∞ –±—É–¥–µ –¥–æ–¥–∞—Ç–∏:\n    // history.push({\n    //   date: tournament.date,\n    //   rating: newRating,\n    //   tournamentId: tournament.id,\n    //   reason: 'tournament'\n    // });\n\n    return history;\n  };\n\n  const ratingHistory = createRatingHistory();\n  \n  if (ratingHistory.length < 2) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">–ì—Ä–∞—Ñ—ñ–∫ —Ä–µ–π—Ç–∏–Ω–≥—É</h3>\n        <div className=\"text-center py-8 text-gray-500\">\n          <p>–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ –≥—Ä–∞—Ñ—ñ–∫–∞</p>\n          <p className=\"text-sm mt-1\">–ó—ñ–≥—Ä–∞–π—Ç–µ –∫—ñ–ª—å–∫–∞ –º–∞—Ç—á—ñ–≤, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫</p>\n        </div>\n      </div>\n    );\n  }\n\n  // –ó–Ω–∞—Ö–æ–¥–∏–º–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —ñ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –¥–ª—è –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è\n  const minRating = Math.min(...ratingHistory.map(p => p.rating));\n  const maxRating = Math.max(...ratingHistory.map(p => p.rating));\n  const ratingRange = maxRating - minRating;\n  const padding = Math.max(50, ratingRange * 0.1); // –î–æ–¥–∞—î–º–æ –≤—ñ–¥—Å—Ç—É–ø–∏\n\n  // –ó–Ω–∞—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—ñ–≤–µ–Ω—å (band) –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥—É\n  const currentBand = getRatingBand(player.rating);\n  const nextBand = RATING_BANDS.find(band => band.min > player.rating);\n  \n  // –†–æ–∑—à–∏—Ä—é—î–º–æ –¥—ñ–∞–ø–∞–∑–æ–Ω –≥—Ä–∞—Ñ—ñ–∫–∞, —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—ñ–≤–µ–Ω—å\n  const chartMinRating = Math.max(0, minRating - padding);\n  const chartMaxRating = nextBand \n    ? Math.max(maxRating + padding, nextBand.min + 100) // –î–æ–¥–∞—î–º–æ 100 –≤–∏—â–µ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –ø–æ—Ä–æ–≥—É\n    : maxRating + padding;\n  const chartRatingRange = chartMaxRating - chartMinRating;\n\n  // –°—Ç–≤–æ—Ä—é—î–º–æ SVG –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏\n  const svgWidth = 800;\n  const svgHeight = 400;\n  const chartWidth = svgWidth - 100; // –í—ñ–¥—Å—Ç—É–ø–∏ –¥–ª—è –æ—Å–µ–π\n  const chartHeight = svgHeight - 80;\n  const chartLeft = 60;\n  const chartTop = 20;\n\n  // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç\n  const xScale = (index: number) => chartLeft + (index / (ratingHistory.length - 1)) * chartWidth;\n  const yScale = (rating: number) => chartTop + chartHeight - ((rating - chartMinRating) / chartRatingRange) * chartHeight;\n\n  // –°—Ç–≤–æ—Ä—é—î–º–æ —à–ª—è—Ö –¥–ª—è –ª—ñ–Ω—ñ—ó –≥—Ä–∞—Ñ—ñ–∫–∞\n  const linePath = ratingHistory\n    .map((point, index) => `${index === 0 ? 'M' : 'L'} ${xScale(index)} ${yScale(point.rating)}`)\n    .join(' ');\n\n  // –†–æ–∫–∏ –Ω–∞ –æ—Å—ñ X: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ø–µ—Ä—à–∏–π –º–∞—Ç—á –∫–æ–∂–Ω–æ–≥–æ —Ä–æ–∫—É\n  const years = Array.from(new Set(ratingHistory.map(p => new Date(p.date).getFullYear()))).sort((a, b) => a - b);\n  const yearPositions = years\n    .map(year => {\n      const firstPointIdx = ratingHistory.findIndex(p => new Date(p.date).getFullYear() === year);\n      if (firstPointIdx === -1) return null;\n      return { year, x: xScale(firstPointIdx) };\n    })\n    .filter((p): p is { year: number; x: number } => p !== null);\n\n  // –°—Ç–≤–æ—Ä—é—î–º–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ –ª—ñ–Ω—ñ—ó –¥–ª—è —Ä—ñ–≤–Ω—ñ–≤ —Ä–µ–π—Ç–∏–Ω–≥—É\n  const ratingLevels = RATING_BANDS.filter(band => \n    band.min < chartMaxRating && band.max > chartMinRating\n  );\n\n  return (\n    <div className={`bg-white rounded-lg shadow-md p-6 ${className}`}>\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">–ì—Ä–∞—Ñ—ñ–∫ —Ä–µ–π—Ç–∏–Ω–≥—É</h3>\n      \n      <div className=\"relative overflow-x-auto\">\n        <svg \n          width={svgWidth} \n          height={svgHeight} \n          className=\"border border-gray-200 rounded min-w-full md:min-w-0\"\n          viewBox={`0 0 ${svgWidth} ${svgHeight}`}\n          preserveAspectRatio=\"xMidYMid meet\"\n        >\n          {/* –§–æ–Ω–æ–≤—ñ –∑–æ–Ω–∏ —Ä–µ–π—Ç–∏–Ω–≥—É */}\n          {ratingLevels.map((band, index) => {\n            const bandTop = Math.max(band.min, chartMinRating);\n            const bandBottom = Math.min(band.max, chartMaxRating);\n            \n            return (\n              <rect\n                key={index}\n                x={chartLeft}\n                y={yScale(bandBottom)}\n                width={chartWidth}\n                height={yScale(bandTop) - yScale(bandBottom)}\n                fill={band.color}\n                fillOpacity={0.1}\n                stroke={band.color}\n                strokeOpacity={0.3}\n                strokeWidth={0.5}\n              />\n            );\n          })}\n\n          {/* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ –ª—ñ–Ω—ñ—ó —Å—ñ—Ç–∫–∏ */}\n          {ratingLevels.map((band, index) => (\n            <g key={`grid-${index}`}>\n              {[band.min, band.max].filter(rating => rating > chartMinRating && rating < chartMaxRating).map(rating => (\n                <line\n                  key={rating}\n                  x1={chartLeft}\n                  y1={yScale(rating)}\n                  x2={chartLeft + chartWidth}\n                  y2={yScale(rating)}\n                  stroke={band.color}\n                  strokeOpacity={0.4}\n                  strokeWidth={1}\n                  strokeDasharray=\"2,2\"\n                />\n              ))}\n            </g>\n          ))}\n\n          {/* –õ—ñ–Ω—ñ—è –≥—Ä–∞—Ñ—ñ–∫–∞ */}\n          <path\n            d={linePath}\n            fill=\"none\"\n            stroke=\"#2563eb\"\n            strokeWidth={3}\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          />\n\n          {/* –¢–æ—á–∫–∏ –Ω–∞ –≥—Ä–∞—Ñ—ñ–∫—É –∑ —Ç—É–ª—Ç–∏–ø–æ–º */}\n          {ratingHistory.map((point, index) => {\n            const ratingBand = getRatingBand(point.rating);\n            return (\n              <circle\n                key={index}\n                cx={xScale(index)}\n                cy={yScale(point.rating)}\n                r={hoveredIndex === index ? 7 : point.reason === 'tournament' ? 6 : 4}\n                fill={ratingBand.color}\n                stroke=\"#fff\"\n                strokeWidth={2}\n                className=\"transition-all cursor-pointer hover:opacity-80\"\n                onMouseEnter={(e) => {\n                  setHoveredIndex(index);\n                  const rect = (e.target as SVGCircleElement).getBoundingClientRect();\n                  setTooltipPos({ x: rect.left + rect.width / 2, y: rect.top - 8 });\n                }}\n                onMouseLeave={() => setHoveredIndex(null)}\n              />\n            );\n          })}\n\n          {/* –í—ñ—Å—å Y (—Ä–µ–π—Ç–∏–Ω–≥) */}\n          <line\n            x1={chartLeft}\n            y1={chartTop}\n            x2={chartLeft}\n            y2={chartTop + chartHeight}\n            stroke=\"#374151\"\n            strokeWidth={2}\n          />\n\n          {/* –í—ñ—Å—å X (—á–∞—Å) */}\n          <line\n            x1={chartLeft}\n            y1={chartTop + chartHeight}\n            x2={chartLeft + chartWidth}\n            y2={chartTop + chartHeight}\n            stroke=\"#374151\"\n            strokeWidth={2}\n          />\n\n          {/* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ñ –º—ñ—Ç–∫–∏ —Ä–æ–∫—ñ–≤ */}\n          {yearPositions.map((pos, idx) => (\n            <g key={`year-${idx}`}>\n              <line\n                x1={pos.x}\n                y1={chartTop + chartHeight}\n                x2={pos.x}\n                y2={chartTop + chartHeight + 6}\n                stroke=\"#9ca3af\"\n                strokeWidth={1}\n              />\n              <text\n                x={pos.x}\n                y={chartTop + chartHeight + 20}\n                textAnchor=\"middle\"\n                fontSize=\"12\"\n                fill=\"#6b7280\"\n                fontWeight=\"500\"\n              >\n                {pos.year}\n              </text>\n            </g>\n          ))}\n\n          {/* –ü—ñ–¥–ø–∏—Å–∏ —Ä–µ–π—Ç–∏–Ω–≥—É */}\n          {ratingLevels.map((band, index) => (\n            <text\n              key={`label-${index}`}\n              x={chartLeft - 10}\n              y={yScale(band.min) + 4}\n              textAnchor=\"end\"\n              fontSize=\"12\"\n              fill={band.color}\n              fontWeight=\"600\"\n            >\n              {band.min}\n            </text>\n          ))}\n\n          {/* –ü–æ—Ç–æ—á–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ */}\n          <text\n            x={chartLeft - 10}\n            y={yScale(player.rating) + 4}\n            textAnchor=\"end\"\n            fontSize=\"14\"\n            fill=\"#1f2937\"\n            fontWeight=\"bold\"\n          >\n            {player.rating}\n          </text>\n          \n          {/* –ù–∞—Å—Ç—É–ø–Ω–∏–π —Ä—ñ–≤–µ–Ω—å (—Ü—ñ–ª—å) */}\n          {nextBand && (\n            <>\n              {/* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞ –ø—É–Ω–∫—Ç–∏—Ä–Ω–∞ –ª—ñ–Ω—ñ—è –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è */}\n              <line\n                x1={chartLeft}\n                y1={yScale(nextBand.min)}\n                x2={chartLeft + chartWidth}\n                y2={yScale(nextBand.min)}\n                stroke={nextBand.color}\n                strokeWidth={2}\n                strokeDasharray=\"6,4\"\n                opacity={0.7}\n              />\n              {/* –ü—ñ–¥–ø–∏—Å –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è */}\n              <text\n                x={chartLeft + chartWidth + 10}\n                y={yScale(nextBand.min) + 4}\n                textAnchor=\"start\"\n                fontSize=\"13\"\n                fill={nextBand.color}\n                fontWeight=\"700\"\n              >\n                {nextBand.min} ‚ñ∂ {nextBand.name}\n              </text>\n            </>\n          )}\n        </svg>\n\n        {/* –¢—É–ª—Ç–∏–ø –º–∞—Ç—á—É */}\n        {hoveredIndex !== null && ratingHistory[hoveredIndex]?.matchId && (\n          <div\n            className=\"fixed bg-gray-900 text-white px-3 py-2 rounded shadow-lg text-xs z-50 pointer-events-none\"\n            style={{\n              left: `${tooltipPos.x}px`,\n              top: `${tooltipPos.y}px`,\n              transform: 'translate(-50%, -100%)',\n              minWidth: '200px'\n            }}\n          >\n            {(() => {\n              const point = ratingHistory[hoveredIndex];\n              const matchData = matches.find(m => m.id === point.matchId);\n              if (!matchData) return null;\n\n              const isP1 = matchData.player1Id === player.id;\n              const opponentId = isP1 ? matchData.player2Id : matchData.player1Id;\n              const opponent = players.find(p => p.id === opponentId);\n              const opponentName = opponent ? opponent.name : '–°—É–ø–µ—Ä–Ω–∏–∫';\n\n              const ratingChange = isP1 ? matchData.player1RatingChange : matchData.player2RatingChange;\n              const playerScore = isP1 ? matchData.player1Score : matchData.player2Score;\n              const opponentScore = isP1 ? matchData.player2Score : matchData.player1Score;\n              const matchDate = new Date(matchData.date).toLocaleDateString('uk-UA', {\n                day: 'numeric',\n                month: 'short',\n                year: 'numeric'\n              });\n\n              return (\n                <div className=\"space-y-1 text-center\">\n                  <div className=\"text-yellow-300 font-semibold text-xs border-b border-gray-700 pb-1\">\n                    vs {opponentName}\n                  </div>\n                  <div className=\"text-white font-semibold text-sm\">\n                    {playerScore}:{opponentScore}\n                  </div>\n                  <div className={`font-bold text-base ${ratingChange >= 0 ? 'text-green-400' : 'text-red-400'}`}>\n                    {ratingChange > 0 ? '+' : ''}{ratingChange}\n                  </div>\n                  <div className=\"text-blue-300 font-semibold text-sm border-t border-gray-700 pt-1\">\n                    –†–µ–π—Ç–∏–Ω–≥: {point.rating}\n                  </div>\n                  <div className=\"text-gray-300 text-xs\">\n                    {matchDate}\n                  </div>\n                </div>\n              );\n            })()}\n          </div>\n        )}\n\n        {/* –õ–µ–≥–µ–Ω–¥–∞ —Ä—ñ–≤–Ω—ñ–≤ */}\n        <div className=\"mt-4 flex flex-wrap gap-3\">\n          {RATING_BANDS.map((band, index) => (\n            <div key={index} className=\"flex items-center gap-2\">\n              <div \n                className=\"w-4 h-4 rounded\"\n                style={{ backgroundColor: band.color }}\n              />\n              <span className=\"text-sm text-gray-600\">\n                {band.name} ({band.min}-{band.max === 4000 ? '‚àû' : band.max})\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///Users/maxrosul/ratingAPP/frontend/src/app/player/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useApp } from '@/context/AppContext';\nimport { getRatingBand, calculatePlayerStats } from '@/utils/rating';\nimport MatchHistory from '@/components/MatchHistory';\nimport RatingChart from '@/components/RatingChart';\nimport Link from 'next/link';\nimport { useParams } from 'next/navigation';\nimport { useState, useEffect } from 'react';\n\nexport default function PlayerProfile() {\n  const { state } = useApp();\n  const params = useParams();\n  // –î–µ–∫–æ–¥—É—î–º–æ URL-encoded –ø–∞—Ä–∞–º–µ—Ç—Ä (–∫–∏—Ä–∏–ª–∏—Ü—è)\n  const playerId = decodeURIComponent(params.id as string);\n  const [mounted, setMounted] = useState(false);\n  const [activeTab, setActiveTab] = useState<'history' | 'best'>('history');\n\n  // Prevent hydration mismatch\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted || state.loading || !state.isClient) {\n    return (\n      <div className=\"min-h-screen bg-gray-100\">\n        <header className=\"bg-white shadow-md\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex items-center justify-between py-6\">\n              <div className=\"flex items-center space-x-4\">\n                <Link \n                  href=\"/\"\n                  className=\"text-gray-600 hover:text-gray-900 transition-colors\"\n                >\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                  </svg>\n                </Link>\n                <h1 className=\"text-2xl font-bold text-gray-900\">\n                  –ü—Ä–æ—Ñ—ñ–ª—å –≥—Ä–∞–≤—Ü—è\n                </h1>\n              </div>\n            </div>\n          </div>\n        </header>\n        <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"bg-white rounded-lg shadow-lg p-8 flex items-center space-x-4 justify-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n            <span className=\"text-lg\">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  const player = state.players.find(p => p.id === playerId);\n  \n  // –Ø–∫—â–æ –≥—Ä–∞–≤—Ü—è –Ω–µ–º–∞—î –≤ —Å–ø–∏—Å–∫—É, –∞–ª–µ —î –≤ –º–∞—Ç—á–∞—Ö ‚Äî —Å—Ç–≤–æ—Ä—é—î–º–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è\n  let virtualPlayer = player;\n  if (!player) {\n    // –®—É–∫–∞—î–º–æ –≥—Ä–∞–≤—Ü—è –≤ –º–∞—Ç—á–∞—Ö\n    const playerMatches = state.matches.filter(match => \n      match.player1Id === playerId || match.player2Id === playerId\n    );\n    \n    if (playerMatches.length > 0) {\n      // –ó–Ω–∞—Ö–æ–¥–∏–º–æ –æ—Å—Ç–∞–Ω–Ω—ñ–π –º–∞—Ç—á –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥—É\n      const lastMatch = playerMatches[playerMatches.length - 1];\n      const isPlayer1 = lastMatch.player1Id === playerId;\n      const currentRating = isPlayer1 ? lastMatch.player1RatingAfter : lastMatch.player2RatingAfter;\n      \n      // –û—Ç—Ä–∏–º—É—î–º–æ —ñ–º'—è –∑ –º–∞—Ç—á—É\n      const playerName = isPlayer1 \n        ? (lastMatch.player1Name || `–ì—Ä–∞–≤–µ—Ü—å ${playerId}`)\n        : (lastMatch.player2Name || `–ì—Ä–∞–≤–µ—Ü—å ${playerId}`);\n      \n      virtualPlayer = {\n        id: playerId,\n        name: playerName,\n        rating: currentRating,\n        matches: playerMatches.map(m => m.id),\n        createdAt: new Date(playerMatches[0].date),\n        updatedAt: new Date(lastMatch.date)\n      };\n    }\n  }\n\n  if (!virtualPlayer) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n        <div className=\"bg-white rounded-lg shadow-lg p-8 text-center\">\n          <div className=\"text-gray-400 mb-4\">\n            <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-xl font-bold text-gray-900 mb-2\">–ì—Ä–∞–≤—Ü—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</h2>\n          <p className=\"text-gray-600 mb-4\">–ì—Ä–∞–≤–µ—Ü—å –∑ —Ç–∞–∫–∏–º ID –Ω–µ —ñ—Å–Ω—É—î</p>\n          <Link \n            href=\"/\"\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors inline-block\"\n          >\n            –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ —Ä–µ–π—Ç–∏–Ω–≥—É\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  const ratingBand = getRatingBand(virtualPlayer.rating);\n  const stats = calculatePlayerStats(virtualPlayer, state.matches);\n  const playerMatches = state.matches.filter(match => \n    match.player1Id === virtualPlayer.id || match.player2Id === virtualPlayer.id\n  );\n\n  // –°–æ—Ä—Ç—É—î–º–æ –º–∞—Ç—á—ñ –∑–∞ –∑–º—ñ–Ω–æ—é —Ä–µ–π—Ç–∏–Ω–≥—É –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ \"–ù–∞–π–∫—Ä–∞—â—ñ –º–∞—Ç—á—ñ\"\n  // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ä–µ–∞–ª—å–Ω—É –∑–º—ñ–Ω—É (–Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω—É), —â–æ–± –Ω–∞–π–±—ñ–ª—å—à–∏–π –ø—Ä–∏—Ä—ñ—Å—Ç –±—É–≤ –∑–≤–µ—Ä—Ö—É\n  const bestMatches = [...playerMatches].sort((a, b) => {\n    const aChange = a.player1Id === virtualPlayer.id\n      ? a.player1RatingChange\n      : a.player2RatingChange;\n    const bChange = b.player1Id === virtualPlayer.id\n      ? b.player1RatingChange\n      : b.player2RatingChange;\n    return bChange - aChange;\n  });\n\n  // Find player's rank\n  const sortedPlayers = [...state.players].sort((a, b) => b.rating - a.rating);\n  const playerRank = sortedPlayers.findIndex(p => p.id === virtualPlayer.id) + 1;\n\n  // –û—Ç—Ä–∏–º—É—î–º–æ –∑–≤–∞–Ω–Ω—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥—É\n  const highestRatingBand = getRatingBand(stats.highestRating);\n  \n  // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –∑–º—ñ–Ω–∏–ª–æ—Å—å –∑–≤–∞–Ω–Ω—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ –ø–æ—Ç–æ—á–Ω–∏–º\n  const hasRankChanged = highestRatingBand.name !== ratingBand.name;\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      {/* Header */}\n      <header className=\"bg-white shadow-md\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between py-6\">\n            <div className=\"flex items-center space-x-4\">\n              <Link \n                href=\"/\"\n                className=\"text-gray-600 hover:text-gray-900 transition-colors\"\n              >\n                <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n              </Link>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                –ü—Ä–æ—Ñ—ñ–ª—å –≥—Ä–∞–≤—Ü—è\n              </h1>\n            </div>\n            \n            <Link \n              href=\"/\"\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\"\n            >\n              –î–æ —Ä–µ–π—Ç–∏–Ω–≥—É\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      {/* Main content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Player Info */}\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full text-xl font-bold text-gray-600\">\n                #{playerRank}\n              </div>\n              <div>\n                <div className=\"flex items-center gap-3\">\n                  <h2 className={`text-3xl font-bold ${ratingBand.textColor}`}>{virtualPlayer.name}</h2>\n                  {virtualPlayer.isCMS && (\n                    <span \n                      className=\"text-amber-600 text-sm font-extrabold italic tracking-wide px-2 py-1 bg-amber-50 rounded border border-amber-300\" \n                      title=\"–ö–∞–Ω–¥–∏–¥–∞—Ç —É –ú–∞–π—Å—Ç—Ä–∏ –°–ø–æ—Ä—Ç—É –£–∫—Ä–∞—ó–Ω–∏\"\n                      style={{ transform: 'skewX(-3deg)' }}\n                    >\n                      –ö–ú–°–£\n                    </span>\n                  )}\n                </div>\n                <div className=\"text-lg text-gray-600 space-y-1\">\n                  <p>{ratingBand.name}</p>\n                  {(virtualPlayer.city || virtualPlayer.yearOfBirth) && (\n                    <p className=\"text-sm\">\n                      {[virtualPlayer.city, virtualPlayer.yearOfBirth && `${virtualPlayer.yearOfBirth} —Ä.–Ω.`].filter(Boolean).join(' ‚Ä¢ ')}\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"text-right\">\n              <div className={`text-4xl font-bold ${ratingBand.textColor}`}>\n                {virtualPlayer.rating}\n              </div>\n              <div className=\"flex items-center justify-end space-x-2 mt-2\">\n                <div \n                  className={`w-4 h-4 rounded-full ${ratingBand.color}`}\n                ></div>\n                <span className={`text-sm font-medium ${ratingBand.textColor}`}>\n                  {ratingBand.name}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Stats Grid */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n            <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-blue-600\">{stats.totalMatches}</div>\n              <div className=\"text-sm text-gray-600\">–ú–∞—Ç—á—ñ–≤</div>\n            </div>\n            <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-green-600\">{stats.wins}</div>\n              <div className=\"text-sm text-gray-600\">–ü–µ—Ä–µ–º–æ–≥</div>\n            </div>\n            <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-red-600\">{stats.losses}</div>\n              <div className=\"text-sm text-gray-600\">–ü–æ—Ä–∞–∑–æ–∫</div>\n            </div>\n            <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-purple-600\">{stats.winRate}%</div>\n              <div className=\"text-sm text-gray-600\">% –ü–µ—Ä–µ–º–æ–≥</div>\n            </div>\n            <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div className={`text-2xl font-bold ${highestRatingBand.textColor}`}>\n                {stats.highestRating}\n              </div>\n              <div className=\"text-sm text-gray-600\">–ú–∞–∫—Å —Ä–µ–π—Ç–∏–Ω–≥</div>\n              <div className={`text-xs font-medium mt-1 ${highestRatingBand.textColor}`}>\n                {highestRatingBand.name}\n              </div>\n              {player && hasRankChanged && stats.highestRating > player.rating && (\n                <div className=\"text-xs text-amber-600 font-semibold mt-1\">\n                  –ù–∞–π–∫—Ä–∞—â–µ –∑–≤–∞–Ω–Ω—è\n                </div>\n              )}\n            </div>\n            <div className=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <div className={`text-2xl font-bold ${stats.ratingChange >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                {stats.ratingChange >= 0 ? '+' : ''}{stats.ratingChange}\n              </div>\n              <div className=\"text-sm text-gray-600\">–ó–º—ñ–Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥—É</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Rating Chart */}\n        <div className=\"mb-8\">\n          <RatingChart \n            player={virtualPlayer}\n            matches={state.matches}\n            players={state.players}\n          />\n        </div>\n\n        {/* Match History */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          {/* Tabs */}\n          <div className=\"flex space-x-4 mb-6 border-b border-gray-200\">\n            <button\n              onClick={() => setActiveTab('history')}\n              className={`px-4 py-2 font-semibold transition-colors border-b-2 ${\n                activeTab === 'history'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-500 border-transparent hover:text-gray-700'\n              }`}\n            >\n              –Ü—Å—Ç–æ—Ä—ñ—è –º–∞—Ç—á—ñ–≤ ({playerMatches.length})\n            </button>\n            <button\n              onClick={() => setActiveTab('best')}\n              className={`px-4 py-2 font-semibold transition-colors border-b-2 ${\n                activeTab === 'best'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-500 border-transparent hover:text-gray-700'\n              }`}\n            >\n              –ù–∞–π–∫—Ä–∞—â—ñ –º–∞—Ç—á—ñ\n            </button>\n          </div>\n          \n          {playerMatches.length > 0 ? (\n            <MatchHistory \n              matches={activeTab === 'history' ? playerMatches : bestMatches}\n              players={state.players}\n              playerId={virtualPlayer.id}\n              disableSorting={activeTab === 'best'}\n            />\n          ) : (\n            <div className=\"text-center py-12\">\n              <div className=\"text-gray-400 mb-4\">\n                <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">–ú–∞—Ç—á—ñ–≤ –ø–æ–∫–∏ –Ω–µ–º–∞—î</h3>\n              <p className=\"text-gray-600\">–¶–µ–π –≥—Ä–∞–≤–µ—Ü—å —â–µ –Ω–µ –≥—Ä–∞–≤ –∂–æ–¥–Ω–æ–≥–æ –º–∞—Ç—á—É</p>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}